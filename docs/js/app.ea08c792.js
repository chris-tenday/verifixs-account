(function(t){function e(e){for(var a,o,l=e[0],r=e[1],c=e[2],d=0,p=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var r=s[o];0!==i[r]&&(a=!1)}a&&(n.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},i={app:0},n=[];function o(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-2d0a310b":"2fb379df"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s=i[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise((function(e,a){s=i[t]=[e,a]}));e.push(s[2]=a);var n,r=document.createElement("script");r.charset="utf-8",r.timeout=120,l.nc&&r.setAttribute("nonce",l.nc),r.src=o(t);var c=new Error;n=function(e){r.onerror=r.onload=null,clearTimeout(d);var s=i[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",c.name="ChunkLoadError",c.type=a,c.request=n,s[1](c)}i[t]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:r})}),12e4);r.onerror=r.onload=n,document.head.appendChild(r)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var u=c;n.push([1,"chunk-vendors"]),s()})({0:function(t,e){},"0689":function(t,e,s){"use strict";s("992c")},"0a82":function(t,e,s){"use strict";s("69b3")},1:function(t,e,s){t.exports=s("56d7")},2:function(t,e){},2307:function(t,e,s){},2668:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"otpModal",tabindex:"-1",role:"dialog","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-hidden":"true"}},[s("button",{staticClass:"trigger",staticStyle:{display:"none"},attrs:{href:"#","data-bs-toggle":"modal","data-bs-target":"#otpModal"}}),s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("button",{staticClass:"exit d-none",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}}),s("div",{staticClass:"modal-body"},[t._m(0),s("p",{staticClass:"text-center",staticStyle:{"font-size":"14px"}},[t._v("Entrez le code réçu par e-mail/ boite spam "),s("strong",[t._v(t._s(t.user.email.substring(0,1))),s("small",[t._v("xxxxx")]),t._v(t._s(t.user.email.slice(-13)))]),t._v(" ou au numero de téléphone "),s("strong",[t._v(t._s(t.user.telephone.substring(0,6))),s("small",[t._v("xxxxxxxx")]),t._v(t._s(t.user.telephone.slice(-2))+" ")]),0!==t.time?s("strong",[t._v(" avant "+t._s(t.time)),s("sup",[t._v("s")])]):t._e(),t._v("!! ")]),s("otp-input",{ref:"otpInput1",attrs:{"num-inputs":6,"should-auto-focus":!0,separator:"-","input-type":"number"},on:{"on-change":t.handleOnChange,"on-complete":t.handleOnComplete}}),s("div",{staticClass:"d-flex mt-2 align-center justify-content-center align-items-center"},[s("p",[t._v("Vous n'avez reussi le code ? "),s("a",{staticClass:"link-dark-info",attrs:{href:"javascript:void(0)",disabled:t.otpSendLoading},on:{click:t.resendOtp}},[t._v("Renvoyez le code "),t.otpSendLoading?s("i",{staticClass:"mx-2 fa fa-spinner fa-spin"}):t._e()])])])],1)])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",{staticClass:"text-center"},[s("span",{staticClass:"fa fa-lock text-info"}),t._v(" Activation de compte ")])}],n=(s("1157"),{name:"OTP",data(){return{user:{},time:60,otpSendLoading:!1}},created(){this.refreshUserData()},mounted(){setInterval(()=>{0!=this.time&&this.time--},1200)},methods:{refreshUserData(){let t=localStorage.getItem("client");this.user=JSON.parse(t)},async resendOtp(){let t=new FormData;t.append("telephone",this.user.telephone),this.otpSendLoading=!0,this.$store.dispatch("resendOtp",t).then(t=>{this.otpSendLoading=!1,this.time=60})},async handleOnComplete(t){this.otpSendLoading=!0,await this.$emit("onSubmitted",t),this.otpSendLoading=!1},handleOnChange(t){this.$emit("onChanged",t)},onOpen(){this.$emit("onOpened")}}}),o=n,l=s("2877"),r=Object(l["a"])(o,a,i,!1,null,null,null);e["default"]=r.exports},"2d41":function(t,e,s){"use strict";s("2307")},3:function(t,e){},3076:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{display:"flex"}},["password"===t.inputType?s("input",{staticStyle:{display:"none"},attrs:{autocomplete:"off",name:"hidden",type:"text"}}):t._e(),t._l(t.numInputs,(function(e,a){return s("SingleOtpInput",{key:a,attrs:{focus:t.activeInput===a,separator:t.separator,value:t.otp[a],"input-type":t.inputType,"input-classes":t.inputClasses,"is-last-child":a===t.numInputs-1,"should-auto-focus":t.shouldAutoFocus},on:{"on-change":t.handleOnChange,"on-keydown":t.handleOnKeyDown,"on-paste":t.handleOnPaste,"on-focus":function(e){return t.handleOnFocus(a)},"on-blur":t.handleOnBlur}})}))],2)},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{display:"flex","align-items":"center","justify-items":"center"}},["checkbox"===t.inputType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"input",staticClass:"otp-input",attrs:{min:"0",max:"9",maxlength:"1",pattern:"[0-9]",inputmode:"numeric",type:"checkbox"},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{input:t.handleOnChange,keydown:t.handleOnKeyDown,paste:t.handleOnPaste,focus:t.handleOnFocus,blur:t.handleOnBlur,change:function(e){var s=t.model,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);a.checked?o<0&&(t.model=s.concat([n])):o>-1&&(t.model=s.slice(0,o).concat(s.slice(o+1)))}else t.model=i}}}):"radio"===t.inputType?s("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"input",staticClass:"otp-input",attrs:{min:"0",max:"9",maxlength:"1",pattern:"[0-9]",inputmode:"numeric",type:"radio"},domProps:{checked:t._q(t.model,null)},on:{input:t.handleOnChange,keydown:t.handleOnKeyDown,paste:t.handleOnPaste,focus:t.handleOnFocus,blur:t.handleOnBlur,change:function(e){t.model=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"input",staticClass:"otp-input",attrs:{min:"0",max:"9",maxlength:"1",pattern:"[0-9]",inputmode:"numeric",type:t.inputType},domProps:{value:t.model},on:{input:[function(e){e.target.composing||(t.model=e.target.value)},t.handleOnChange],keydown:t.handleOnKeyDown,paste:t.handleOnPaste,focus:t.handleOnFocus,blur:t.handleOnBlur}}),!t.isLastChild&&t.separator?s("span",[s("span",{staticStyle:{color:"#fff"},domProps:{innerHTML:t._s(t.separator)}})]):t._e()])},o=[],l={name:"SingleOtpInput",props:{value:{type:String},separator:{type:String},focus:{type:Boolean},inputClasses:{type:String},shouldAutoFocus:{type:Boolean},inputType:{type:String,default(){return"tel"}},isLastChild:{type:Boolean}},data(){return{model:this.value||""}},mounted(){this.$refs.input&&this.focus&&this.shouldAutoFocus&&this.$refs.input.focus()},watch:{value(t,e){t!==e&&(this.model=t)},focus(t,e){e!==t&&this.$refs.input&&this.focus&&(this.$refs.input.focus(),this.$refs.input.select())}},methods:{handleOnChange(){return this.model.length>1&&(this.model=this.model.slice(0,1)),this.$emit("on-change",this.model)},handleOnKeyDown(t){const e=t||window.event,s=e.which?e.which:e.keyCode;this.isCodeNumeric(s)||8===s||86===s||46===s?this.$emit("on-keydown",t):e.preventDefault()},isCodeNumeric(t){return t>=48&&t<=57||t>=96&&t<=105},handleOnPaste(t){return this.$emit("on-paste",t)},handleOnFocus(){return this.$refs.input.select(),this.$emit("on-focus")},handleOnBlur(){return this.$emit("on-blur")}}},r=l,c=(s("a6b7"),s("2877")),d=Object(c["a"])(r,n,o,!1,null,null,null),u=d.exports;const p=8,m=37,v=39,h=46;var f={name:"OtpInput",components:{SingleOtpInput:u},props:{numInputs:{default:4},separator:{type:String,default:"**"},inputClasses:{type:String},inputType:{type:String,validator(t){return["number","tel","password","text"].includes(t)}},shouldAutoFocus:{type:Boolean,default:!1}},data(){return{activeInput:0,otp:[],oldOtp:[]}},methods:{handleOnFocus(t){this.activeInput=t},handleOnBlur(){this.activeInput=-1},checkFilledAllInputs(){return this.otp.join("").length===this.numInputs?this.$emit("on-complete",this.otp.join("")):"Wait until the user enters the required number of characters"},focusInput(t){this.activeInput=Math.max(Math.min(this.numInputs-1,t),0)},focusNextInput(){this.focusInput(this.activeInput+1)},focusPrevInput(){this.focusInput(this.activeInput-1)},changeCodeAtFocus(t){this.oldOtp=Object.assign([],this.otp),this.$set(this.otp,this.activeInput,t),this.oldOtp.join("")!==this.otp.join("")&&(this.$emit("on-change",this.otp.join("")),this.checkFilledAllInputs())},handleOnPaste(t){t.preventDefault();const e=t.clipboardData.getData("text/plain").slice(0,this.numInputs-this.activeInput).split("");if("number"===this.inputType&&!e.join("").match(/^\d+$/))return"Invalid pasted data";const s=this.otp.slice(0,this.activeInput),a=s.concat(e);return this.$set(this,"otp",a.slice(0,this.numInputs)),this.focusInput(a.slice(0,this.numInputs).length),this.checkFilledAllInputs()},handleOnChange(t){this.changeCodeAtFocus(t),this.focusNextInput()},clearInput(){this.otp.length>0&&this.$emit("on-change",""),this.otp=[],this.activeInput=0},handleOnKeyDown(t){switch(t.keyCode){case p:t.preventDefault(),this.changeCodeAtFocus(""),this.focusPrevInput();break;case h:t.preventDefault(),this.changeCodeAtFocus("");break;case m:t.preventDefault(),this.focusPrevInput();break;case v:t.preventDefault(),this.focusNextInput();break;default:break}}}},g=f,b=(s("6f65"),Object(c["a"])(g,a,i,!1,null,null,null)),_=b.exports;e["default"]=_},"37d4":function(t,e,s){},"37e9":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"loading"}},[s("div",{staticClass:"modal-mask1"},[s("div",{staticClass:"modal-wrapper1"},[s("div",{staticClass:"modal-container1"},[s("img",{attrs:{src:"assets/images/loader.gif"}})])])])])],1)},i=[],n={name:"Loading"},o=n,l=(s("6d9b"),s("2877")),r=Object(l["a"])(o,a,i,!1,null,null,null);e["default"]=r.exports},4:function(t,e){},5:function(t,e){},"53de":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.label?s("label",{staticClass:"form-label",attrs:{for:"loan"}},[t._v(t._s(t.label))]):t._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 col-xl-6 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"input-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.day,expression:"day"}],staticClass:"form-select w-20",attrs:{disabled:t.disabled,"aria-label":"Days",required:t.required},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.day=e.target.multiple?s:s[0]},t.updated]}},[s("option",{attrs:{value:"",selected:""}},[t._v("-- Jour --")]),t._l(t.days,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2),s("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-select w-25",attrs:{disabled:t.disabled,"aria-label":"Months",required:t.required},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?s:s[0]},t.updated]}},[s("option",{attrs:{value:"",selected:""}},[t._v("-- Mois --")]),t._l(t.months,(function(e){return s("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.label))])}))],2),s("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-select w-25",attrs:{disabled:t.disabled,"aria-label":"Years",required:t.required},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.year=e.target.multiple?s:s[0]},t.updated]}},[s("option",{attrs:{value:"",selected:""}},[t._v("-- Année --")]),t._l(t.years,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)])])])])},i=[],n={name:"CustomDateInput",props:{selectedValue:{type:String,default:""},label:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{day:"",month:"",year:""}},mounted(){this.loadSelected()},computed:{days(){let t=[];for(let e=0;e<=31;e++){if(31==e)break;let s=""+(e+1);t.push(s.padStart(2,"0"))}return t},months(){let t=[{value:"01",label:"Janv"},{value:"02",label:"Fev"},{value:"03",label:"Mars"},{value:"04",label:"Avr"},{value:"05",label:"Mai"},{value:"06",label:"Juin"},{value:"07",label:"Juil"},{value:"08",label:"Août"},{value:"09",label:"Sept"},{value:"10",label:"Oct"},{value:"11",label:"Nov"},{value:"12",label:"Dec"}];return t},years(){var t=(new Date).getFullYear();let e=[],s=1950;while(s<=t)e.push(s++);return e}},methods:{updated(t){let e=`${this.day}-${this.month}-${this.year}`;this.$emit("input",e)},loadSelected(){if(this.selectedValue){let t=this.selectedValue.split("-");this.day=t[0],this.month=t[1],this.year=t[2]}}}},o=n,l=(s("2d41"),s("2877")),r=Object(l["a"])(o,a,i,!1,null,null,null);e["default"]=r.exports},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=s("2f62"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],l={name:"App",mounted(){this.refreshData()},methods:{refreshData(){this.$store.dispatch("viewActifs")}}},r=l,c=s("2877"),d=Object(c["a"])(r,n,o,!1,null,null,null),u=d.exports,p=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center justify-content-center auth-box",staticStyle:{overflow:"hidden",height:"100vh",width:"100%"},attrs:{"data-aos":"zoom-in"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row d-flex align-items-center justify-content-center"},[s("div",{staticClass:"col-xl-5 col-lg-5 col-md-6 col-sm-12 col-12"},[s("div",{staticClass:"card auth-box-shadow"},[s("div",{staticClass:"card-body"},[s("img",{staticClass:"mb-3",staticStyle:{width:"180px"},attrs:{src:"assets/images/logos/logo_color.svg",title:"logo"}}),s("p",[t._v("Veuillez vous connecter à votre compte !")]),s("form",{attrs:{method:"post",id:"form-login",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.loginAccount.apply(null,arguments)}}},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label sr-only",attrs:{for:"identifiant"}},[t._v("Email ou Téléphone")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.identifiant,expression:"login.identifiant"}],staticClass:"form-control",attrs:{id:"identifiant",name:"identifiant",type:"text",placeholder:"Email ou téléphone...",required:""},domProps:{value:t.login.identifiant},on:{input:function(e){e.target.composing||t.$set(t.login,"identifiant",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("Email ou téléphone requis !")])]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label sr-only",attrs:{for:"pass"}},[t._v("Mot de passe")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.pass,expression:"login.pass"}],staticClass:"form-control ",attrs:{id:"pass",name:"pass",type:"password",placeholder:"Mot de passe ...",required:""},domProps:{value:t.login.pass},on:{input:function(e){e.target.composing||t.$set(t.login,"pass",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v(" Mot de passe requis ! ")])]),s("div",{staticClass:"mb-3 mb-0 d-grid"},[s("button",{staticClass:"btn text-white border-0 bg-app",attrs:{type:"submit",disabled:t.isLoading}},[t.isLoading?s("span",{staticClass:"spinner-border spinner-border-sm me-1"}):s("i",{staticClass:"fas fa-unlock me-1"}),t._v(" Connecter ")])]),s("p",{staticClass:"text-center p-0"},[t._v(" Vous n'avez pas un compte ? "),s("a",{staticClass:"link-primary fw-bold",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.$router.replace({name:"register"})}}},[t._v("créez un compte !")])]),s("p",{staticClass:"text-center p-0"},[s("a",{staticClass:"link-primary fw-bold",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.$router.push({name:"reset"})}}},[t._v("Mot de passe oublié !")])])])])])])])])])},v=[],h={destroyed(){this.loggedIn&&this.$router.go()},data(){var t={identifiant:"",pass:""};return{login:t,isLoading:!1,date:"",loggedIn:!1}},methods:{loginAccount(t){const e=document.querySelectorAll("#form-login");Array.from(e).forEach(e=>{if(e.checkValidity()||(t.preventDefault(),t.stopPropagation(),e.classList.add("was-validated")),e.checkValidity()){this.isLoading=!0;var s=new FormData;s.append("identifiant",this.login.identifiant),s.append("pass",this.login.pass),this.$store.dispatch("loginAccount",s).then(t=>{this.isLoading=!1,!1!==t&&(void 0!==t.reponse&&"success"===t.reponse.status?(this.loggedIn=!0,this.$router.push({name:"home"}),this.isLoading=!0):this.$swal({title:t.error,icon:"error",timer:3e3,toast:!0,showConfirmButton:!1}))}).catch(t=>{this.isLoading=!1})}})},getDate(t){this.date=t}}},f=h,g=Object(c["a"])(f,m,v,!1,null,null,null),b=g.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center justify-content-center auth-box",staticStyle:{overflow:"auto",height:"100%",width:"100%"},attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row d-flex align-items-center justify-content-center"},[s("div",{staticClass:"col-xl-8 col-lg-10 col-md-10 col-sm-12 col-12"},[s("div",{staticClass:"card mt-lg-6 mt-sm-10 border-0 auth-box-shadow mb-lg-3 mb-ms-10"},[s("div",{staticClass:"card-body"},[s("img",{staticClass:"mb-3",staticStyle:{width:"180px"},attrs:{src:"assets/images/logos/logo_color.svg",title:"logo"}}),s("p",[t._v(" Veuillez renseigner toutes les informations requises pour créer un compte ! ")]),s("form",{staticClass:"row g-3 mt-3",attrs:{id:"form-register",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.registerAccount.apply(null,arguments)}}},[s("div",{staticClass:"col-md-12"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.nom,expression:"register.nom"}],staticClass:"form-control",attrs:{id:"name",name:"name",type:"text",placeholder:"Nom complet... ex:Lumba Jean",required:""},domProps:{value:t.register.nom},on:{input:function(e){e.target.composing||t.$set(t.register,"nom",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("Votre nom est requis !")])]),s("div",{staticClass:"col-md-6"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.email,expression:"register.email"}],staticClass:"form-control",attrs:{id:"email",name:"email",type:"email",placeholder:"adresse e-mail... ex:gaston@domain",required:""},domProps:{value:t.register.email},on:{input:function(e){e.target.composing||t.$set(t.register,"email",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("Votre adresse e-mail est requise !")])]),s("div",{staticClass:"col-md-6"},[t._m(2),s("phone-input",{attrs:{size:"lg",translations:t.translations,"default-country-code":"CD","no-example":!0,required:!0,color:"#FF0000"},on:{update:t.updatePhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),s("div",{staticClass:"invalid-feedback"},[t._v("Votre numéro de tél. requis !")])],1),s("div",{staticClass:"col-md-6"},[t._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.pass,expression:"register.pass"}],staticClass:"form-control ",attrs:{id:"pass",name:"pass",type:"password",placeholder:"Mot de passe... ",required:""},domProps:{value:t.register.pass},on:{input:function(e){e.target.composing||t.$set(t.register,"pass",e.target.value)}}}),t.pwdError?s("div",{staticClass:"text-danger"},[t._v(" "+t._s(t.pwdError)+" ")]):t._e()]),s("div",{staticClass:"col-md-6"},[t._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:t.register.confirmPass,expression:"register.confirmPass"}],staticClass:"form-control",attrs:{id:"confirmpass",name:"confirmpass",type:"password",placeholder:"Confirmation mot de passe... ",required:""},domProps:{value:t.register.confirmPass},on:{input:function(e){e.target.composing||t.$set(t.register,"confirmPass",e.target.value)}}}),t.isDifferent?s("div",{staticClass:"text-danger"},[t._v(" Le mot de passe saisi ne correspond pas ")]):t._e()]),s("div",{staticClass:"col-md-12",staticStyle:{display:"none"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"invalidCheck",required:""},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var s=t.checked,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);a.checked?o<0&&(t.checked=s.concat([n])):o>-1&&(t.checked=s.slice(0,o).concat(s.slice(o+1)))}else t.checked=i}}}),t._m(5)]),s("div",{staticClass:"mb-1 col-md-12 mt-4"},[s("div",{staticClass:"d-grid mb-2"},[s("button",{staticClass:"btn bg-dual-gradient border-0 text-white",attrs:{type:"submit",disabled:t.isLoading}},[t.isLoading?s("span",{staticClass:"me-1 spinner-border spinner-border-sm"}):t._e(),t._v(" Créer un compte ")])]),s("p",{staticClass:"text-center"},[t._v(" Vous avez déjà un compte ? "),s("a",{staticClass:"link-success",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.$router.replace({name:"login"})}}},[t._v("connectez-vous !")])])])])])])])])]),s("button",{staticClass:"d-none",attrs:{id:"btn-privacy","data-bs-toggle":"modal","data-bs-target":"#privacyModal"}}),s("privacy-modal",{attrs:{"pdf-src":"assets/privacy-policy.pdf"},on:{onAccepted:function(e){t.checked=e},onRefused:function(e){t.checked=e}}})],1)},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Nom complet "),s("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Adresse email "),s("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label",attrs:{for:"phone"}},[t._v("Téléphone "),s("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label",attrs:{for:"pass"}},[t._v("Mot de passe "),s("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label",attrs:{for:"pass"}},[t._v("Confirmation mot de passe "),s("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-check-label",attrs:{for:"invalidCheck"}},[s("span",{staticClass:"ml-3"},[t._v("J'accepte les termes & politiques de confidentialité !")])])}],y=s("1157"),x=s.n(y),w={data(){var t={personalite:"physique",nom:"",email:"",telephone:"",pass:"",confirmPass:""};return{register:t,isLoading:!1,checked:"",translations:{countrySelectorLabel:"Code pays",countrySelectorpwdError:"Choisir un pays",phoneNumberLabel:"Ex. 810000000",example:"Ex. 810000000"},phone:"",isPwValid:!1,pwdError:"",isDifferent:!1}},watch:{checked(t){let e=x()("#btn-privacy");t&&e.click()},phone(t){if(null!==t){let e=(""+t)[0];if("0"===e)return this.$swal({text:"Numéro de téléphone ne doit pas commencer par 0 !",icon:"warning",timer:3e3,toast:!0,showConfirmButton:!1}),void(this.phone="");if(t.length>9)return this.$swal({text:"Numéro de téléphone invalide",icon:"warning",timer:3e3,toast:!0,showConfirmButton:!1}),void(this.phone="")}},"register.confirmPass"(t){this.register.pass!==t?this.isDifferent=!0:this.isDifferent=!1},"register.pass"(t){t&&(this.isPwValid=this.validatePassword())}},methods:{async registerAccount(t){const e=document.querySelectorAll("#form-register");Array.from(e).forEach(e=>{if(e.checkValidity()||(t.preventDefault(),t.stopPropagation(),e.classList.add("was-validated")),e.checkValidity()||!e.checkValidity()){if(!this.isPwValid)return;this.isLoading=!0;var s=new FormData;s.append("personnalite",this.register.personalite),s.append("nom",this.register.nom),s.append("email",this.register.email),s.append("telephone",this.register.telephone),s.append("pass",this.register.pass),this.$store.dispatch("registerAccount",s).then(t=>{this.isLoading=!1,void 0!==t.reponse&&"success"===t.reponse.status?this.$router.go(this.$router.replace({name:"home"})):this.$swal({title:t.error,icon:"error",timer:3e3,toast:!0,showConfirmButton:!1})}).catch(t=>{this.isLoading=!1})}})},validatePassword(){var t=0,e=0,s=0,a=0,i=/[`!@#$%^&*()_+\-=\\|,.`<>?~]/;if(!(this.register.pass.length>=8))return this.pwdError="Votre mot de passe doit contenir minimum 8 caractères",!1;for(var n of this.register.pass)isNaN(1*n)?i.test(n)?a++:n!==n.toLowerCase()?e++:n!==n.toUpperCase()&&(s+=1):t+=1;return t||e||s||a?0==t?(this.pwdError="Votre mot de passe doit contenir au moins 1 chiffre",!1):0==e?(this.pwdError="Votre mot de passe doit contenir au moins 1 lettre en majuscule",!1):0==s?(this.pwdError="Votre mot de passe doit contenir au moins 1 lettre en minuscule",!1):0==a?(this.pwdError="Votre mot de passe doit contenir au moins 1 caractère spécial",!1):(this.pwdError="",!0):void 0},updatePhone(t){this.register.telephone=t.e164}}},k=w,q=(s("6dea"),Object(c["a"])(k,_,C,!1,null,null,null)),$=q.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header-layout",{on:{onLoggedOut:t.logOut,onSubscribed:t.viewConditions}}),s("router-view",{key:t.$route.fullPath}),s("footer-layout",{on:{onShowPrivacy:t.viewConditions}}),s("otp-modal",{on:{onSubmitted:t.activateAccount}}),s("privacy-modal",{attrs:{pdfSrc:"assets/privacy-policy.pdf"},on:{onAccepted:function(e){return t.conditionAccepted(!0)},onRefused:function(e){return t.conditionAccepted(!1)}}}),s("button",{staticClass:"d-none",attrs:{id:"btn-privacy","data-bs-toggle":"modal","data-bs-target":"#privacyModal"}})],1)},T=[],S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"bg-dark py-1",attrs:{id:"header-layout"}},[s("div",{staticClass:"container px-md-0"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(0),s("div",{staticClass:"fs-6 text-white"},[s("a",{staticClass:"btn-link fw-semi-bold p-2 text-white d-flex justify-content-center align-items-center",attrs:{href:"javascript:void(0)",role:"button","data-bs-toggle":"dropdown"}},[s("svg",{staticClass:"border-1 rounded-pill",attrs:{width:"16px",height:"16px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m 8 1 c -1.65625 0 -3 1.34375 -3 3 s 1.34375 3 3 3 s 3 -1.34375 3 -3 s -1.34375 -3 -3 -3 z m -1.5 7 c -2.492188 0 -4.5 2.007812 -4.5 4.5 v 0.5 c 0 1.109375 0.890625 2 2 2 h 8 c 1.109375 0 2 -0.890625 2 -2 v -0.5 c 0 -2.492188 -2.007812 -4.5 -4.5 -4.5 z m 0 0",fill:"#ffffff"}})]),t._v(" "+t._s(t._f("capitalize")(t.client.nom))+" "),s("i",{staticClass:"bi bi-arrow-down-right-circle-fill text-success mx-2 fs-7 text-primary"})]),s("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarFeatures"}},[s("li",{staticClass:"d-flex flex-column p-3"},[s("h6",{staticClass:"dropdown-header mb-1 fw-bold text-primary bg-light-primary p-2"},[s("i",{staticClass:"bi bi-person"}),t._v(t._s(t._f("capitalize")(t.client.nom))+" ")])]),s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.$router.replace({name:"home"})}}},[s("i",{staticClass:"bi bi-chevron-bar-right me-1"}),t._v("Diligences")])]),s("li",[s("a",{staticClass:"dropdown-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.$emit("onLoggedOut")}}},[s("i",{staticClass:"bi bi-chevron-bar-right me-1"}),t._v(" Déconnexion")])])])])])])]),s("nav",{staticClass:"navbar navbar-expand-lg py-3 navbar-default"},[s("div",{staticClass:"container px-0"},[s("a",{staticClass:"navbar-brand",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.$router.replace({name:"home"})}}},[t._v(" >"),s("img",{staticStyle:{width:"120px"},attrs:{src:"assets/images/logos/favicon.png",alt:""}})]),s("div",{staticClass:"ms-lg-3 d-grid mt-lg-0"},[s("a",{staticClass:"btn fs-7 border-none rounded text-white bg-app btn-sm",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.$emit("onSubscribed")}}},[s("i",{staticClass:"fas fa-plus",staticStyle:{"margin-right":"3px"}}),t._v("Nouvelle diligence ")])])])])])},L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fs-6 text-white"},[s("a",{staticClass:"btn-link text-white",attrs:{href:"mailto:contact@verifixs.com"}},[s("i",{staticClass:"fa fa-envelope me-2"}),t._v("contact@verifixs.com")])])}],A={name:"headerLayout",computed:{client(){return this.$store.getters.getClient}}},P=A,M=Object(c["a"])(P,S,L,!1,null,null,null),B=M.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer bg-dark pt-8",attrs:{id:"bottom"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-sm-12 col-12"},[s("div",{staticClass:"mb-4 mb-lg-0"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1092.22 207.66",width:"220",height:"100"}},[s("g",{attrs:{id:"Calque_2","data-name":"Calque 2"}},[s("g",{attrs:{id:"COMP_02","data-name":"COMP 02"}},[s("path",{staticClass:"cls-1",attrs:{d:"M216,207.66c-10.67,0-14.94,0-22.95-6.94l-11-9.61C171.93,182,169,176.16,169,162.28V112.9c0-13.61,1.87-21.61,12.55-30.69l9.07-7.74c12-10.41,17.89-10.68,28.3-10.68H242.4c12.54,0,18.42,1.34,28.29,9.35l10.41,8.27c11.74,9.34,13.34,19.22,13.34,33.36v20.56c0,14.68-2.4,18.95-17.61,18.95H194.62v8.54c0,2.4,1.87,5.6,3.73,7.47l6.41,6.94c3.47,3.74,8.54,4.81,17.09,4.81h55c8.54,0,17.61,1.87,17.61,12.81,0,11.21-10.14,12.81-17.61,12.81Zm-21.35-79h74.2V113.17c0-4.8.27-8.81-3.2-12l-9.88-8.54c-3.2-2.94-8.27-3.2-12.28-3.2H221.85c-4.81,0-8.82,0-13.08,2.93L200,98.76c-3.21,2.4-5.34,4.27-5.34,11.74Z"}}),s("path",{staticClass:"cls-1",attrs:{d:"M352.8,82.74c0-9.34,1.07-18.95,12.81-18.95,10.14,0,12.81,8.54,12.81,17.08V91.29l20-16.55c7.21-5.88,14.68-10.95,22.69-10.95h20.55c9.88,0,18.15,3.21,25.09,10.14,8.54,8.55,11.48,17.36,11.48,29.1,0,8.81-1.6,17.88-12.54,17.88-9.35,0-13.08-7.47-13.08-15.75,0-4.27,0-7.47-2.67-11.21-3.21-4.53-9.35-4.53-15.48-4.53H427c-4.8,0-8.27,2.4-12.81,6.14l-35.77,29.62V190c0,8.81-1.86,17.62-12.81,17.62S352.8,198.85,352.8,190Z"}}),s("path",{staticClass:"cls-1",attrs:{d:"M591,182h19.22c8.54,0,17.61,1.87,17.61,12.81,0,11.21-10.14,12.81-17.61,12.81H545c-7.47,0-17.62-1.6-17.62-12.81,0-10.94,9.08-12.81,17.62-12.81h20.29V89.42H545c-7.47,0-17.62-1.6-17.62-12.81,0-11,9.08-12.82,17.62-12.82h27c14.68,0,19,2.67,19,17.89ZM552.25,12c0-9.07,5.07-12,12-12h14.68c6.94,0,12,2.94,12,12V24.29c0,9.07-5.07,12-12,12H564.26c-6.94,0-12-2.94-12-12Z"}}),s("path",{staticClass:"cls-1",attrs:{d:"M692.91,89.15H685.7c-7.47,0-17.62-1.6-17.62-12.81,0-11,9.08-12.82,17.62-12.82h7.21V60.05c0-14.68.8-25.35,12.27-36.56,12.28-11.75,23.76-12.81,39.51-12.81H762c8.81,0,18.68.8,18.68,12.81,0,10.94-8.81,12.81-17.61,12.81h-20c-17.35,0-24.56,3.47-24.56,22.15v5.07h22.69c8.54,0,17.61,1.87,17.61,12.82,0,11.21-10.14,12.81-17.61,12.81H718.53V189.78c0,8.8-1.87,17.61-12.81,17.61s-12.81-8.81-12.81-17.61Z"}}),s("path",{staticClass:"cls-1",attrs:{d:"M876.17,182h19.21c8.54,0,17.62,1.87,17.62,12.81,0,11.21-10.14,12.81-17.62,12.81H830.26c-7.48,0-17.62-1.6-17.62-12.81,0-10.94,9.08-12.81,17.62-12.81h20.28V89.42H830.26c-7.48,0-17.62-1.6-17.62-12.81,0-11,9.08-12.82,17.62-12.82h27c14.68,0,18.95,2.67,18.95,17.89ZM837.46,12c0-9.07,5.08-12,12-12h14.68c6.94,0,12,2.94,12,12V24.29c0,9.07-5.07,12-12,12H849.48c-6.94,0-12-2.94-12-12Z"}}),s("path",{staticClass:"cls-1",attrs:{d:"M1012.14,135.86,972.9,89.42c-2.93-3.74-6.13-7.21-6.13-12,0-7.2,5.6-13.61,12.81-13.61,7.74,0,12.81,8,17.35,13.61l32.56,40,32.56-40c4.54-5.6,9.61-13.61,17.36-13.61,7.2,0,12.81,6.41,12.81,13.61,0,4.81-3.2,8.28-6.14,12l-39.24,46.44,39.24,46.44c2.94,3.74,6.14,7.21,6.14,12,0,7.21-5.61,13.35-12.81,13.35-7.75,0-12.82-7.74-17.36-13.35l-32.56-40-32.56,40c-4.54,5.61-9.61,13.35-17.35,13.35-7.21,0-12.81-6.14-12.81-13.35,0-4.8,3.2-8.27,6.13-12Z"}}),s("path",{staticClass:"cls-2",attrs:{d:"M101.88,0C92.27,0,88.54,4.8,88.54,13.35v42.7L49.3,158l-23-59.9a11.23,11.23,0,0,0-10.48-7.19H11.24A11.22,11.22,0,0,0,.79,106.24L36,195.91c2.66,6.68,5.07,11.75,13.34,11.75S60,202.59,62.65,195.91l51-130a27.56,27.56,0,0,0,1.6-10.41V13.35C115.23,4.8,111.49,0,101.88,0Z"}})])])])])])]),s("hr",{staticClass:"bg-gray-800 my-3"}),s("div",{staticClass:"row mb-8"},[t._m(0),s("div",{staticClass:"col-xl-6"},[s("div",{staticClass:"row mt-6"},[s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},[s("div",{staticClass:"d-flex"},[s("svg",{staticClass:"bi bi-geo-alt text-white mt-1",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"}},[s("path",{attrs:{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"}}),s("path",{attrs:{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}})]),t._m(1)])]),s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-3 mt-md-0"},[s("div",{staticClass:"d-flex"},[s("svg",{staticClass:"bi bi-telephone text-white mt-1",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[s("path",{attrs:{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"}})]),s("div",{staticClass:"ms-3 fs-3"},[t._v("+(243) 810000000")])]),t._m(2),t._m(3)])])])]),s("div",{staticClass:"row"},[t._m(4),s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 text-md-end"},[s("p",{staticClass:"fs-6 text-muted"},[s("a",{staticClass:"text-inherit",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("onShowPrivacy")}}},[t._v("Politique de confidentialité !")])])])])])])},E=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"text-white-50 mb-3"},[s("p",[t._v(" Nous sommes une plateforme où les clients peuvent saisir toutes leurs informations. VERIFIX vérifiera les informations avec les données existantes et fournira une réponse dans les 72 heures. Le bureau de VERIFIX est également disponible pour ceux qui ont besoin d'aide. ")]),s("p",[s("strong",{staticClass:"text-success"},[t._v("Pourquoi ?"),s("br")]),t._v(" Pour assurer la transparence aux institutions avant de conclure un partenariat, ou de fournir un crédit, etc. Les institutions peuvent référer leurs clients à VERIFIX afin d'obtenir un rapport de diligence raisonnable. ")]),s("p",[s("strong",{staticClass:"text-success"},[t._v("Comment ?")]),s("br"),t._v(" Avec plus de 2000 données existantes qui sont vérifiées et toutes les institutions disposeront d'un point de contact pour fournir des informations. VERIFIX répondra dans les 72 heures et le code QR sera disponible pendant 5 jours pour être partagé avec l'institution. ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ms-3"},[t._v(" 03 Bismark Q. Golf C.Gombe Ref. Terrain maman yemo Immeuble Startup 1"),s("sup",[t._v("er")]),t._v(" niveau ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex mt-3"},[s("i",{staticClass:"bi bi-envelope"}),s("div",{staticClass:"ms-3 fs-3"},[t._v("contact@verifixs.com")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex mt-3"},[s("i",{staticClass:"bi bi-envelope",staticStyle:{display:"none"}}),s("div",{staticClass:"ms-3 fs-3",staticStyle:{display:"none"}},[t._v("info@verifixs.com")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12"},[s("p",{staticClass:"fs-6 text-muted",staticStyle:{"font-size":"12px"}},[t._v("© Verifixs")])])}],O={name:"footerLayout"},I=O,j=(s("0689"),Object(c["a"])(I,N,E,!1,null,null,null)),F=j.exports,V=s("2e22"),z={name:"MainLayout",components:{headerLayout:B,footerLayout:F},data(){return{hasMobileMenu:!1,route:""}},computed:{client(){return this.$store.getters.getClient}},mounted(){const t=Object(V["a"])();t("#header-layout"),"pending"===this.client.client_status&&this.$otpModal("show"),setInterval(()=>{this.route=this.$route.path.replaceAll("/","")},500)},methods:{openCloseMenu(){this.hasMobileMenu=!this.hasMobileMenu},logOut(){this.$swal.fire({text:"Etes-vous sûr de vouloir vs déconnecter ?",showDenyButton:!0,showCancelButton:!1,toast:!0,icon:"question",position:"top-end",confirmButtonText:"Oui",denyButtonText:"Non"}).then(t=>{t.isConfirmed&&this.$store.dispatch("logOut").then(()=>{this.$router.replace({name:"login"})})})},viewConditions(){var t=this.$route.name;if("new-loan"===t)return this.$swal.fire({text:"Vous êtes dans la page de souscription !",icon:"info",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),!1;x()("#btn-privacy").click()},conditionAccepted(t=!1){t?this.$router.push({name:"new-loan"}):this.$swal({text:"Désolé! Vous ne pouvez pas continuer",toast:!0,showConfirmButton:!1,timer:3e3,icon:"warning"})},activateAccount(t){var e=new FormData;e.append("client_id",this.client.client_id),e.append("otp",t),this.$store.dispatch("activateAccount",e).then(t=>{"success"===t.reponse.status?(this.$swal({title:"Bienvenu(e) "+this.client.nom,text:"Votre compte verifixs a été activé avec succès !",showConfirmButton:!1,showCancelButton:!1,timer:3e3,icon:"success"}),this.$otpModal("hide")):this.$swal({text:"code d'activation erroné !",toast:!0,showConfirmButton:!1,showCancelButton:!1,timer:3e3,icon:"warning"})})}}},U=z,R=Object(c["a"])(U,D,T,!1,null,null,null),K=R.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-15"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"mt-n6 mb-10"},[s("div",{staticClass:"d-flex justify-content-center mb-4"},t._l(t.status,(function(e,a){return s("a",{key:a,staticClass:"btn btn-primary m-1",attrs:{href:"#"},on:{click:function(s){return t.tri(e)}}},[t._v(" "+t._s(e)+" ")])})),0),s("loader",{attrs:{"data-loaded":t.loader,height:"200"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.diligences.length>0||""!==t.filterWord,expression:"diligences.length > 0 || filterWord !== ''"}],staticClass:"portfolioFilter",staticStyle:{"overflow-x":"auto","overflow-y":"hidden"}},[s("ul",{staticClass:"nav justify-content-center nav-pills-gray mb-4",attrs:{"data-aos":"fade-up"}},t._l(t.filters,(function(e,a){return s("li",{key:a,staticClass:"nav-item"},[s("a",{staticClass:"mb-1 nav-link rounded-2",class:t.selectedFilterId===e.id?"active":"",attrs:{href:"javascript:void(0)"},on:{click:function(s){return s.preventDefault(),t.toggleShowFiltered(e)}}},[t._v(" "+t._s(e.label)+" ")])])})),0)]),t.diligences.length>0?s("div",{staticClass:"row"},t._l(t.diligences,(function(e){return s("div",{key:e.diligence_id,staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-12 col-12"},[s("div",{staticClass:"card mb-6 text-center border-0 smooth-shadow-sm",attrs:{"data-aos":"zoom-in"}},[s("span",{staticClass:"badge bg-danger p-2 position-absolute text-center fs-5 fw-semi-bold",staticStyle:{top:"5px",right:"5px"}},[t._v(" "+t._s(e.diligence_status)+" ")]),s("div",{staticClass:"card-body p-5"},[s("div",{staticClass:"mb-6 mt-3"},[s("img",{staticClass:"icon-xxl",attrs:{src:"assets/images/icon/icon-2.svg",alt:"Icon"}})]),s("h3",[s("a",{staticClass:"text-inherit",attrs:{href:"javascript:void(0)"}},[t._v(t._s(e.diligence_type))])]),s("span",[t._v(t._s(t._f("sortlength")(e.objet,30,"...")))]),s("br"),s("span",{staticStyle:{"font-size":"10px","font-weight":"600"}},[s("span",{staticClass:"me-2"},[s("i",{staticClass:"fas fa-calendar text-success me-1"}),t._v(t._s(e.date_enregistrement.split("|")[0]))]),s("span",{staticClass:"me-2"},[s("i",{staticClass:"fas fa-clock text-success me-1"}),t._v(t._s(e.date_enregistrement.split("|")[1]))])]),s("br"),s("button",{staticClass:"btn btn-sm btn-info mt-3 text-white fw-medium fs-6",on:{click:function(s){return s.preventDefault(),t.$router.push({name:"loan-view",params:{id:e.diligence_id}})}}},[s("svg",{attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"13px",height:"7px",viewBox:"0 0 13 7","enable-background":"new 0 0 13 7","xml:space":"preserve"}},[s("polygon",{staticClass:"arrow_poly",attrs:{id:"arrow_poly_1",fill:"#FFFFFF",points:"13,3.5 9,0 9,3 0,3 0,4 9,4 9,7 "}})]),t._v(" Voir détails diligence ")])])])])})),0):s("div",{directives:[{name:"show",rawName:"v-show",value:""===t.filterWord&&0===t.diligences.length,expression:"filterWord === '' && diligences.length === 0"}],staticClass:"row"},[s("div",{staticClass:"col-md-12 text-center",attrs:{"data-aos":"fade-down"}},[s("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:"assets/images/folder_1.png"}}),s("div",{staticClass:"not_found"},[s("h3",[t._v("Bienvenu(e) chez Verifixs !")]),s("a",{staticClass:"btn btn-danger btn-lg p-3 btn-shadow",attrs:{href:"#/creation/diligence"},on:{click:function(e){return e.preventDefault(),t.viewConditions.apply(null,arguments)}}},[s("i",{staticClass:"lnr lnr-plus-circle mr-2"}),t._v(" Postuler maintenant à une diligence")])])])]),""!==t.filterWord&&0===t.diligences.length?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 text-center",attrs:{"data-aos":"fade-up"}},[s("svg",{staticStyle:{width:"150px",height:"150px"},attrs:{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M9 22H7C3 22 2 21 2 17V7C2 3 3 2 7 2H8.5C10 2 10.33 2.44001 10.9 3.20001L12.4 5.20001C12.78 5.70001 13 6 14 6H17C21 6 22 7 22 11V13",stroke:"#33cc7c","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}}),s("path",{attrs:{opacity:"0.4",d:"M13.7605 18.3199C11.4105 18.4899 11.4105 21.8899 13.7605 22.0599H19.3205C19.9905 22.0599 20.6506 21.8099 21.1406 21.3599C22.7906 19.9199 21.9105 17.0399 19.7405 16.7699C18.9605 12.0799 12.1806 13.8599 13.7806 18.3299",stroke:"#FF0000","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}})]),s("h3",{staticClass:"mt-2",staticStyle:{color:"#FF0000"}},[t._v("Aucune diligence trouvé !")])])]):t._e()])],1)])])])])},W=[],H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.dataLoaded?t._t("default"):s("div",{style:"min-height:"+t.height+"px; display:flex; justify-content:center;",attrs:{id:"loader"}},[s("img",{staticClass:"mfp-img-mobile",staticStyle:{width:"70px",height:"70px",display:"block",margin:"auto"},attrs:{src:"assets/images/loader.gif"}})])],2)},J=[],Z={name:"loader",props:["dataLoaded","height"],mounted(){}},G=Z,X=Object(c["a"])(G,H,J,!1,null,null,null),Y=X.exports,tt={components:{loader:Y},data(){return{loader:!1,filters:[{id:1,label:"Tous"},{id:2,label:"Actifs",key:"actif"},{id:3,label:"En cours",key:"pending"},{id:4,label:"Cloturées",key:"cloture"}],filterWord:"",selectedFilterId:1}},computed:{diligences(){if(""===this.filterWord)return this.$store.state.diligences;{let t=this.$store.state.diligences;return t.filter(t=>t.diligence_status.toLowerCase().includes(this.filterWord.toLowerCase()))}},client(){return this.$store.getters.getClient}},mounted(){var t=new FormData;t.append("client_id",this.client.client_id),this.$store.dispatch("viewDiligences",t).then(()=>{this.loader=!0})},methods:{viewConditions(){x()("#btn-privacy").click()},toggleShowFiltered(t){this.selectedFilterId=t.id,"Tous"===t.label?this.filterWord="":this.filterWord=t.key},conditionAccepted(t=!1){t?this.$router.push({name:"new-loan"}):this.$swal({title:"Désolé! Vous ne pouvez pas continuer",toast:!0,showConfirmButton:!1,timer:3e3,icon:"warning"})}}},et=tt,st=Object(c["a"])(et,Q,W,!1,null,null,null),at=st.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-10"},[s("loader",{attrs:{"data-loaded":t.dataLoaded,height:"300"}},[t.diligenceTypes.length>0?s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"offset-xl-2 col-xl-8 offset-lg-2 col-lg-8 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"mb-10 text-center"},[s("h1",{staticClass:"mb-2"},[t._v("Bienvenu(e) "+t._s(t.client.nom)+", veuillez choisir une diligence !")]),s("p",{staticClass:"lead px-lg-8 fs-5 text-danger"},[t._v(" Vous devrez suivre minutieusement toutes les étapes pour postuler à une nouvelle diligence ! ")])])])]),s("div",[s("div",{staticClass:"row"},t._l(t.diligenceTypes,(function(e){return s("div",{key:e.diligence_type_id,staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-3 col-12 mb-lg-3"},[s("div",{staticClass:"card text-center smooth-shadow-sm border-0 mb-4 mb-lg-0"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"mb-4 mt-4"},[s("a",{attrs:{href:"javascript:void(0)"}},[s("img",{staticClass:"icon icon-xxl",attrs:{src:"assets/images/icon/icon-2.svg",alt:"icon"}})])]),s("div",{staticClass:"lh-1 mb-2"},[s("h3",{staticClass:"mb-2"},[t._v(" "+t._s(e.type)+" ")]),t.seeMore!==e.diligence_type_id?s("p",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t._f("sortlength")(e.description,65,"..."))),s("a",{staticClass:"fw-bold",attrs:{href:"javascript:void(0)"},on:{click:function(s){return s.preventDefault(),t.toggleSeeMore(e.diligence_type_id)}}},[t._v("lire la suite")])]):s("p",{staticStyle:{"font-size":"15px","text-align":"justify",color:"#000000"}},[t._v(t._s(e.description)),s("a",{staticClass:"fw-bold",attrs:{href:"javascript:void(0)"},on:{click:function(s){return s.preventDefault(),t.toggleSeeMore(e.diligence_type_id)}}},[t._v("réduire")])])]),s("div",{staticClass:"d-grid mt-5"},[s("button",{staticClass:"btn btn-primary btn-sm",attrs:{"data-bs-target":"#myModal1","data-bs-toggle":"modal"},on:{click:function(s){return t.setChoosenType(e)}}},[t._v(" Postuler ")])])])])])})),0)])]):s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"offset-xl-2 col-xl-8 offset-lg-2 col-lg-8 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"mb-10 text-center"},[s("h1",{staticClass:"mb-2"},[t._v(" Cher client notre service est indisponible pour l'instant ! ")]),s("p",{staticClass:"lead px-lg-8 fs-6 text-danger"},[t._v(" Veuillez réessayer ultérieurement ! ")])])])])])]),s("div",{staticClass:"modal fade",staticStyle:{display:"none"},attrs:{id:"myModal1",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h1",{staticClass:"modal-title"},[s("img",{staticClass:"icon icon-sm me-2",attrs:{src:"assets/images/icon/icon-2.svg",alt:"icon"}}),t._v(" "+t._s(t.choosenType.type)+" ")]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),s("div",{staticClass:"modal-body"},[s("p",[t._v(t._s(t.choosenType.description))]),s("div",{staticClass:"row"},[s("form",{staticClass:"form-horizontal loan-eligibility-form",attrs:{name:"formval2",id:"postulat-form"}},[s("div",{staticClass:"mb-3"},[s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"input-group"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.objet,expression:"objet"}],staticClass:"form-control input-sm",attrs:{type:"text",id:"loan",name:"pr_amt2",placeholder:"Entrer le motif de votre demande..."},domProps:{value:t.objet},on:{input:function(e){e.target.composing||(t.objet=e.target.value)}}})])])])])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-success me-1",attrs:{type:"button",disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.postuler.apply(null,arguments)}}},[t.isLoading?s("span",{staticClass:"spinner-border spinner-border-sm me-2"}):t._e(),t._v(" Postuler maintenant ")])])])])])],1)},nt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("Motif : ")])])}],ot={components:{loader:Y},data(){var t=["Full Basic Due Diligence ","Financial due Diligence report ","Criminal Record Check ","Asset Due Diligence ","Full Enhanced Due Diligence "];return{types:t,choosenType:{},objet:"",isLoading:!1,dataLoaded:!1,seeMore:"",privacyAccepted:!1}},computed:{client(){return this.$store.getters.getClient},diligenceTypes(){return this.$store.getters.getDiligenceTypes}},methods:{setChoosenType(t){this.choosenType=t},toggleSeeMore(t){""===this.seeMore?this.seeMore=t:this.seeMore=""},postuler(){if(this.objet.length<3)return this.$swal({title:"Saisissez correctement le motif de votre demande",icon:"warning",timer:3e3,toast:!0,showConfirmButton:!1}),!1;var t=new FormData;t.append("client_id",this.client.client_id),t.append("diligence_type_id",this.choosenType.diligence_type_id),t.append("objet",this.objet),this.isLoading=!0,this.$store.dispatch("postulerDiligence",t).then(t=>{this.isLoading=!1,void 0!==t.reponse&&"success"===t.reponse.status?(x()(".btn-close").click(),this.$router.replace({name:"home"})):this.$swal({title:"Impossible de postuler pour le moment.",icon:"error",timer:3e3,toast:!0,showConfirmButton:!1})})}},mounted(){this.$store.dispatch("getDiligenceTypes").then(()=>{this.dataLoaded=!0})}},lt=ot,rt=Object(c["a"])(lt,it,nt,!1,null,null,null),ct=rt.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-10 mb-10"},[s("loader",{attrs:{"data-loaded":t.dataLoaded,height:"300"}},[s("div",{staticClass:"container",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"card mb-2"},[s("div",{staticClass:"card-body p-3 d-flex align-items-start justify-content-between"},[s("div",[s("h1",{staticClass:"fw-bold text-dark-primary"},[s("img",{staticClass:"icon-sm me-2",attrs:{src:"assets/images/icon/icon-2.svg",alt:"Icon"}}),t._v(t._s(t.diligence.diligence_type)+" ")]),s("h2",{staticClass:"fw-semi-bold fs-4"},[t._v("Motif : "+t._s(t.diligence.objet))]),s("p",{staticClass:"fs-6"},[s("span",{staticClass:"badge bg-danger mx-1 p-2"},[t._v("status : "+t._s(t.diligence.diligence_status))]),s("span",{staticClass:"mx-1 fw-semi-bold"},[s("i",{staticClass:"fas fa-calendar text-success mx-1"}),t._v(" "+t._s(t.diligence.date_enregistrement.split("|")[0])+" "),s("i",{staticClass:"fas fa-clock text-success mx-1"}),t._v(t._s(t.diligence.date_enregistrement.split("|")[1]))])])]),s("button",{staticClass:"btn btn-outline-primary btn-sm ",attrs:{"data-bs-toggle":"modal","data-bs-target":"#modalQuestions"}},[s("i",{staticClass:"bi-person-check"}),t._v(" Voir mes réponses")])])])])]),s("div",[s("div",[s("ul",{staticClass:"nav nav-pills nav-justified bg-white rounded border-top mb-2 flex-nowrap overflow-scroll overflow-md-hidden",attrs:{id:"myTab",role:"tablist"}},[s("li",{staticClass:"nav-item"},[s("button",{staticClass:"nav-link active rounded-0 d-grid py-3",attrs:{id:"questionsTab","data-bs-toggle":"pill",href:"#questionsTabView",role:"tab","aria-controls":"questionsTabView","aria-selected":"true"}},[s("i",{staticClass:"bi bi-question-circle-fill fs-3"}),s("p",{staticClass:"mb-0 mt-1 fs-5"},[t._v("Questions")])])]),!0===t.canAccessTab("actifs")?s("li",{staticClass:"nav-item"},[s("button",{staticClass:"nav-link rounded-0 d-grid py-3 border-start",staticStyle:{"pointer-events":"none"},attrs:{id:"actifTab","data-bs-toggle":"pill",href:"#actifTabView",role:"tab","aria-controls":"actifTabView","aria-selected":"false"}},[s("i",{staticClass:"bi bi-house-fill fs-3"}),s("p",{staticClass:"mb-0 mt-1 fs-5"},[t._v("Actifs")])])]):t._e(),!0===t.canAccessTab("credits")?s("li",{staticClass:"nav-item"},[s("button",{staticClass:"nav-link rounded-0 d-grid py-3 border-start",staticStyle:{"pointer-events":"none"},attrs:{id:"creditsTab","data-bs-toggle":"pill",href:"#creditsTabView",role:"tab","aria-controls":"creditsTabView","aria-selected":"false"}},[s("i",{staticClass:"bi bi-cash-stack fs-3"}),s("p",{staticClass:"mb-0 mt-1 fs-5"},[t._v("Credits")])])]):t._e(),s("li",{staticClass:"nav-item"},[s("button",{staticClass:"nav-link rounded-0 d-grid py-3 border-start",staticStyle:{"pointer-events":"none"},attrs:{id:"docTab","data-bs-toggle":"pill",href:"#docTabView",role:"tab","aria-controls":"docTabView","aria-selected":"false"}},[s("i",{staticClass:"bi bi-files-alt fs-3"}),s("p",{staticClass:"mb-0 mt-1 fs-5"},[t._v("Documents")])])]),s("li",{staticClass:"nav-item"},[s("button",{staticClass:"nav-link rounded-0 d-grid py-3 border-start",attrs:{id:"certificatTab","data-bs-toggle":"pill",href:"#certificatTabView",role:"tab","aria-controls":"certificatTabView","aria-selected":"false"}},[s("i",{staticClass:"bi bi-file-earmark-check-fill fs-3"}),s("p",{staticClass:"mb-0 mt-1 fs-5"},[t._v("Certificats")])])])]),s("div",{staticClass:"tab-content bg-white p-3 p-lg-5 p-sm-2 rounded smooth-shadow-sm"},[s("div",{staticClass:"tab-pane fade show active",attrs:{role:"tabpanel",id:"questionsTabView"}},[s("question-tab",{on:{gotonexttab:function(e){return t.goToTab("questions")},gotoprevioustab:function(e){return t.goToTab("questions",!1)},updatecontent:t.updateContent}})],1),s("div",{staticClass:"tab-pane fade",attrs:{role:"tabpanel",id:"actifTabView"}},[s("actif-tab",{attrs:{diligence:t.diligence},on:{gotonexttab:function(e){return t.goToTab("actifs")},onSelectedActif:function(e){return t.onSelectedActif(e)},showDetails:function(e){return t.onShowDetails(e)},gotoprevioustab:function(e){return t.goToTab("actifs",!1)}}})],1),s("div",{staticClass:"tab-pane fade",attrs:{role:"tabpanel",id:"creditsTabView"}},[s("credits-tab",{on:{alert:t.displayMsg,updatecontent:t.updateContent,gotonexttab:function(e){return t.goToTab("credits")},gotoprevioustab:function(e){return t.goToTab("credits",!1)}}})],1),s("div",{staticClass:"tab-pane fade",attrs:{role:"tabpanel",id:"docTabView"}},[s("doc-tab",{on:{loading:t.displayLoader,updatecontent:t.updateContent,gotonexttab:function(e){return t.goToTab("documents")},gotoprevioustab:function(e){return t.goToTab("documents",!1)}}})],1),s("div",{staticClass:"tab-pane fade",attrs:{role:"tabpanel",id:"certificatTabView"}},[s("pay-tab",{attrs:{diligence:t.diligence},on:{loading:t.displayLoader,updatecontent:t.updateContent,gotonexttab:function(e){return t.goToTab("certificat")},gotoprevioustab:function(e){return t.goToTab("certificat",!1)}}})],1)])])])]),void 0!==t.diligenceQuestionnaire?s("div",[s("div",{staticClass:"modal fade",attrs:{id:"modalQuestions",tabindex:"-1","aria-labelledby":"modalQuestionsLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h2",{staticClass:"modal-title",attrs:{id:"modalQuestionsLabel"}},[s("i",{staticClass:"bi bi-person-check"}),t._v(" Mes réponses")]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),s("div",{staticClass:"modal-body"},[s("ul",{staticClass:"list-group list-group-numbered"},t._l(t.questions,(function(e,a){return s("li",{key:a,staticClass:"list-group-item d-flex justify-content-between align-items-start"},[s("div",{staticClass:"ms-2 me-auto"},[s("div",{staticClass:"fw-bold"},[t._v(t._s(e.question))]),e.reponse_type.includes("attachment")||e.reponse_type.includes("capture")?s("div",[s("a",{attrs:{href:e.reponses[0].media,target:"_blank"}},[s("img",{staticClass:"img-4by3-xxl img-fluid",attrs:{src:e.reponses[0].media,alt:e.reponses[0].designation}})])]):s("div",[t._v(" "+t._s(e.reponses[0].reponse)+" ")])])])})),0)])])])])]):t._e()]),s("actif-modal",{attrs:{data:t.actif_details}}),s("portal-target",{attrs:{name:"modal"}})],1)},ut=[],pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("go_to_tab",{attrs:{allownexttab:!0},on:{gototab:t.goToTab}}),s("div",[t._m(0),s("div",{staticClass:"row"},t._l(t.fixedFiles,(function(e){return s("div",{key:e,staticClass:"col-lg-4 col-md-4 mb-2 mb-lg-0"},[s("a",{staticClass:"card text-center smooth-shadow-sm",class:t.uploadedDocument.designation===e?"border-primary border-2":"",attrs:{href:"#!"},on:{click:function(e){return e.preventDefault(),t.setDesignation("")}}},[s("div",{staticClass:"card-body p-4 px-4 d-flex align-content-center align-items-center"},[t._m(1,!0),s("h4",{staticClass:"mb-0"},[t._v(t._s(e))])])])])})),0)]),s("hr"),s("p",{staticClass:"mt-2 text-success font-weight-bold"},[t._v(" "+t._s(t.documents.length)+" document(s) attaché(s). ")]),t.documents.length>0?s("div",{staticClass:"row"},t._l(t.documents,(function(e){return s("div",{key:e.document_upload_id,staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-12 col-12"},[s("div",{staticClass:"card mb-5 border-1 border-light-success"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-img"},[s("a",{attrs:{href:"#!"}},[s("img",{staticClass:"img-fluid w-100 rounded mb-4",attrs:{src:e.media,alt:"document"}})])]),s("div",{staticClass:"d-flex justify-content-between align-content-center"},[s("h3",{staticClass:"mb-2"},[s("a",{staticClass:"text-inherit",attrs:{href:"#"}},[t._v(t._s(e.designation.includes("Carte")?"Pièce d'identité":e.designation))])]),s("button",{staticClass:"btn btn-sm btn-light-danger",attrs:{disabled:t.isDeletedDocLoading===e.diligence_upload_id},on:{click:function(s){return t.deleteDoc(e)}}},[t.isDeletedDocLoading===e.diligence_upload_id?s("span",{staticClass:"spinner-border spinner-border-sm"}):s("span",{staticClass:"bi bi-trash"})])])])])])})),0):s("div",{staticStyle:{height:"200px",display:"flex","justify-content":"center"}},[s("h2",[t._v("Aucun document")])]),s("div",{staticClass:"modal fade",attrs:{id:"uploadModal",tabindex:"-1","aria-labelledby":"uploadModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg"},[s("div",{staticClass:"modal-content"},[t._m(2),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.uploadedDocument.designation,expression:"uploadedDocument.designation"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Veuillez saisir le libellé du document",id:"designation"},domProps:{value:t.uploadedDocument.designation},on:{input:function(e){e.target.composing||t.$set(t.uploadedDocument,"designation",e.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("input",{staticClass:"form-control",attrs:{type:"file",id:"uploadedFile"},on:{change:t.chooseFile}})])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"uploadModalDismissBtn","data-bs-dismiss":"modal"}},[t._v(" Fermer ")]),s("button",{staticClass:"btn btn-primary",class:t.uploadLoading?"disabled":"",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.uploadDocument.apply(null,arguments)}}},[t.uploadLoading?s("span",{staticClass:"spinner-border spinner-border-sm"}):t._e(),t._v(" Charger le document ")])])])])])],1)},mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"text-danger animated-bounce-h"},[s("span",{staticClass:"fa fa-info"}),t._v(" cliquez pour attacher un ou plusieurs documents supplémentaires : ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-shape bg-light-pink rounded-circle icon-xl"},[s("img",{attrs:{src:"assets/images/icon/icon-3.svg",alt:"document title"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h1",{staticClass:"modal-title fs-5",attrs:{id:"uploadModalLabel"}},[s("span",{staticClass:"fa fa-file"}),t._v(" Joindre un document supplémentaire ")]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}}),s("button",{staticClass:"btn btn-primary d-none",attrs:{type:"button",id:"uploadModalBtn","data-bs-toggle":"modal","data-bs-target":"#uploadModal"}})])}],vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mb-lg-0"},[s("div",{staticClass:"col-md-12 mb-2 col-12 d-flex align-items-center justify-content-end"},[t.previoustab?s("button",{staticClass:"btn me-2 flex-fill flex-lg-grow-0 fs-6 text-white border-0",class:t.previoustab?"bg-app":"disabled bg-secondary",staticStyle:{"background-color":"red"},attrs:{type:"button"},on:{click:function(e){return t.goToTab(!1)}}},[s("i",{staticClass:"bi-arrow-bar-left mr-1"}),t._v("Etape précédente ")]):t._e(),!0===t.nexttab&&!0===t.allownexttab?s("button",{staticClass:"btn fs-6 flex-fill flex-lg-grow-0 text-white border-0",class:!0===t.nexttab&&!0===t.allownexttab?"bg-app":"disabled bg-secondary",attrs:{type:"button"},on:{click:function(e){return t.goToTab(!0)}}},[t._v(" Etape suivante "),s("i",{staticClass:"bi-arrow-bar-right ml-1"})]):t._e()])])},ht=[],ft={name:"go_to_tab",props:{permission:{type:Boolean,default:!1},nexttab:{type:Boolean,default:!0},previoustab:{type:Boolean,default:!0},askpermission:{type:Boolean,default:!1},permissiontext:{type:String,default:"Est-ce que vous nous autoriser à vérifier cette information?"},allownexttab:{type:Boolean,default:!1}},methods:{async goToTab(t=!0){if(this.askpermission&&t){var e=!1;if(await this.$swal({text:this.permissiontext,icon:"warning",showConfirmButton:!0,confirmButtonText:"Oui",showCancelButton:!0,cancelButtonText:"Non"}).then(t=>{e=t.isConfirmed}),!e)return this.displayMsg("Désolé!! vous ne pouvez pas continuer."),!1;this.$emit("gototab",t)}else this.$emit("gototab",t)},displayMsg(t,e="error"){this.$swal({title:t,icon:e,timer:3e3,toast:!0,showConfirmButton:!1})}}},gt=ft,bt=Object(c["a"])(gt,vt,ht,!1,null,"76670284",null),_t=bt.exports,Ct={components:{go_to_tab:_t},data(){var t=["Attacher un document supplémentaire"];return{filePicked:!1,uploadedDocument:{designation:"",file:{}},diligenceId:0,noEdit:!1,fixedFiles:t,uploadLoading:!1,isDeletedDocLoading:""}},computed:{documents(){return this.$store.state.diligenceDetails.document_uploads},client(){return this.$store.getters.getClient}},methods:{goToTab(t){t?this.$emit("gotonexttab"):this.$emit("gotoprevioustab")},deleteDoc(t){this.$swal({text:"Etes-vous sûr de vouloir supprimer le document sélectionné ?",icon:"warning",showConfirmButton:!0,confirmButtonText:"Oui",showCancelButton:!0,cancelButtonText:"Non"}).then(e=>{let s=new FormData;s.append("client_id",this.client.client_id),s.append("diligence_upload_id",t.diligence_upload_id),this.isDeletedDocLoading=t.diligence_upload_id,this.$axios.post("/clients/diligences/deletedoc",s).then(t=>{this.$emit("updatecontent"),this.isDeletedDocLoading=""})})},openUploadModal(t=!1){this.noEdit=t,t||(this.uploadedDocument.designation=""),this.$modal.show("user-add-modal")},hideUploadModal(){this.$modal.hide("user-add-modal")},chooseFile(){this.filePicked=!0,this.uploadedDocument.file=document.getElementById("uploadedFile").files[0]},uploadDocument(){if(this.uploadedDocument.designation.length<1)return this.$swal({title:"Veuillez saisir un libéllé .",icon:"error",timer:3e3,toast:!0,showConfirmButton:!1}),!1;if(void 0===this.uploadedDocument.file.name)return this.$swal({title:"Veuillez choisir un fichier",icon:"error",timer:3e3,toast:!0,showConfirmButton:!1}),!1;var t=new FormData;t.append("diligence_id",this.diligenceId),t.append("designation",this.uploadedDocument.designation),t.append("fichier",this.uploadedDocument.file),t.append("client_id",this.client.client_id),this.uploadLoading=!0,this.$store.dispatch("uploadDocument",t).then(t=>{if(this.uploadLoading=!1,void 0!==t.reponse&&"success"===t.reponse.status){x()("#uploadModalDismissBtn").click();var e=new FormData;e.append("client_id",this.client.client_id),e.append("diligence_id",this.diligenceId),this.$store.dispatch("viewDiligenceDetails",e).then(()=>{this.isLoading=!1,this.$swal({title:"Document téléchargé.",icon:"success",timer:3e3,toast:!0,showConfirmButton:!1}),this.hideUploadModal()})}else this.$swal({title:"Une erreur s'est produite, réessayez plus tard.",icon:"error",timer:3e3,toast:!0,showConfirmButton:!1})})},setDesignation(t){this.uploadedDocument.designation=t,this.noEdit=!0,x()("#uploadModalBtn").click()}},mounted(){this.diligenceId=this.$route.params.id},watch:{}},yt=Ct,xt=Object(c["a"])(yt,pt,mt,!1,null,null,null),wt=xt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("go_to_tab",{attrs:{permission:!0,nexttab:!1},on:{gototab:t.goToTab}}),s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"accordion",attrs:{id:"Faqaccordionsone"}},[null===t.paiement||"pending"===t.paiement.transaction_status?s("div",{staticClass:"card mb-2"},[t._m(0),s("div",{staticClass:"collapse",class:null===t.paiement?"show":"",attrs:{id:"collapseOne","aria-labelledby":"faqOne","data-bs-parent":"#Faqaccordionsone"}},[s("div",{staticClass:"card-body border-top"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"payment_info modules__content"},[t.wantToPay?s("div",[t._m(1),s("h2",{staticClass:"text-primary font-weight-bold"},[s("span",{staticStyle:{"font-weight":"normal"}},[t._v("Montant:")]),t._v(" "+t._s(t.payment.montant)+" "+t._s(t.payment.devise)+" ")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4 col-md-4 mb-2 mb-lg-0"},[s("a",{staticClass:"card text-center smooth-shadow-sm",class:t.payment.payWithMobile?"border-primary border-2":"",attrs:{href:"#!"},on:{click:function(e){return e.preventDefault(),t.togglePaymentMethod.apply(null,arguments)}}},[t._m(2)])]),s("div",{staticClass:"col-lg-4 col-md-4 mb-2 mb-lg-0"},[s("a",{staticClass:"card text-center smooth-shadow-sm",class:t.payment.payWithMobile?"":"border-primary border-2",attrs:{href:"#!"},on:{click:function(e){return e.preventDefault(),t.togglePaymentMethod.apply(null,arguments)}}},[t._m(3)])])])]):t._e()])])]),t.wantToPay?s("div",{staticClass:"row mt-3 p-2"},[s("div",{staticClass:"col-md-8"},[t.payment.payWithMobile?s("div",[s("div",[s("label",{staticClass:"form-label",attrs:{for:"card_number"}},[t._v("* Numéro de téléphone (Mpesa, Orange Money, Airtel Money, Afrimoney)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.payment.telephone,expression:"payment.telephone"}],staticClass:"form-control",attrs:{id:"card_number",type:"text",placeholder:"Numéro de téléphone"},domProps:{value:t.payment.telephone},on:{input:function(e){e.target.composing||t.$set(t.payment,"telephone",e.target.value)}}})]),s("button",{staticClass:"btn btn-success btn-lg w-100 mt-3",class:t.payLoading?"disabled":"",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.pay.apply(null,arguments)}}},[t.payLoading?s("span",{staticClass:"spinner-border spinner-border-sm"}):s("i",{staticClass:"fa fa-lock"}),t._v(" Payer ")])]):s("div",[s("form",{attrs:{action:"#",method:"post",id:"card_form"}},[s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"authorization"},domProps:{value:t.cardTransaction.authorization}})]),s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"merchant"},domProps:{value:t.cardTransaction.merchant}})]),s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"reference"},domProps:{value:t.cardTransaction.reference}})]),s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"amount"},domProps:{value:t.cardTransaction.amount}})]),s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"currency"},domProps:{value:t.cardTransaction.currency}})]),s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"description"},domProps:{value:t.cardTransaction.description}})]),s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"callback_url"},domProps:{value:t.cardTransaction.callback_url}})]),s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"approve_url"},domProps:{value:t.cardTransaction.approve_url}})]),s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"cancel_url"},domProps:{value:t.cardTransaction.cancel_url}})]),s("div",{staticClass:"mb-2 d-none"},[s("input",{staticClass:"form-control",attrs:{type:"text",name:"decline_url"},domProps:{value:t.cardTransaction.decline_url}})]),s("button",{staticClass:"btn btn-success btn-lg w-100 mt-3",class:t.payLoading?"disabled":"",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.testPay.apply(null,arguments)}}},[t.payLoading?s("span",{staticClass:"spinner-border spinner-border-sm"}):s("i",{staticClass:"fa fa-lock"}),t._v(" Payer ")])])])])]):t._e()])])]):t._e(),s("div",{staticClass:"card mb-2"},[t._m(4),s("div",{staticClass:"collapse",class:null!==t.paiement?"show":"",attrs:{id:"collapseTwo","aria-labelledby":"faqTwo","data-bs-parent":"#Faqaccordionsone"}},[s("div",{staticClass:"card-body border-top"},[s("div",{staticClass:"row"},[void 0!==t.paiement&&null!==t.paiement?s("div",{staticClass:"offset-xl-3 col-xl-6 offset-md-2 col-md-8 offset-md-2 col-md-8 col-sm-12 col-12"},[s("div",[s("h1",{staticClass:"mb-2"},[t._v("Dernier paiement")]),s("p",{staticClass:"text-center"},[t._v(" "+t._s(t.paiement.method)+" | "+t._s(t.paiement.montant)+t._s(t.paiement.devise)+" "),s("span",{staticClass:"badge bg-app text-white",staticStyle:{padding:"5px"}},[t._v(t._s(t.paiement.transaction_status))]),t._v(" | "),s("span",{staticClass:"fa fa-calendar-alt"}),t._v(" "+t._s(t.paiement.date_enregistrement)+" ")])])]):s("div",{staticClass:"offset-xl-3 col-xl-6 offset-md-2 col-md-8 offset-md-2 col-md-8 col-sm-12 col-12"},[t._m(5)])])])])]),s("div",{staticClass:"card mb-2"},[t._m(6),s("div",{staticClass:"collapse",attrs:{id:"collapseThree","aria-labelledby":"faqThree","data-bs-parent":"#Faqaccordionsone"}},[s("div",{staticClass:"card-body border-top"},[s("div",{staticClass:"row"},[null!==t.certificat?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12"},[s("div",{staticClass:"card bg-light mb-4"},[s("div",{staticClass:"card-body"},[s("h3",[t._v("Mon certificat")]),s("p",[t._v(" Cher client ceci est votre certificat, veuillez cliquer sur le bouton en bas pour le télécharger ! ")]),s("a",{staticClass:"btn btn-primary btn-sm mt-3",attrs:{href:t.certificat.certificat_path}},[t._v("Télécharger mon certificat")])])])])]):s("div",{staticClass:"offset-xl-3 col-xl-6 offset-md-2 col-md-8 offset-md-2 col-md-8 col-sm-12 col-12"},[t._m(7)])])])])])])])])],1)},qt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-3",attrs:{id:"faqOne"}},[s("h4",{staticClass:"mb-0"},[s("a",{staticClass:"collapsed",attrs:{href:"#!","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"}},[s("i",{staticClass:"fa fa-plus-circle me-1"}),t._v(" Paiement ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"subtitle text-danger",staticStyle:{"font-weight":"bold"}},[s("span",{staticClass:"fa fa-money"}),t._v(" Choisissez votre moyen de paiement ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-body p-4 px-4 d-flex align-content-center align-items-center"},[s("div",{staticClass:"icon-shape bg-light-pink rounded-circle icon-xl"},[s("img",{attrs:{src:"assets/images/icon/icon-4.svg",alt:"document title"}})]),s("h4",{staticClass:"mb-0"},[t._v("Paiement mobile")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-body p-4 px-4 d-flex align-content-center align-items-center"},[s("div",{staticClass:"icon-shape bg-light-pink rounded-circle icon-xl"},[s("img",{attrs:{src:"assets/images/svg/credit-card.svg",alt:"document title"}})]),s("h4",{staticClass:"mb-0"},[t._v("Paiement par carte")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-3",attrs:{id:"faqTwo"}},[s("h4",{staticClass:"mb-0"},[s("a",{staticClass:"collapsed",attrs:{href:"#!","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}},[s("i",{staticClass:"fa fa-plus-circle me-1"}),t._v(" Paiement en cours de traitement. ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-8 text-center"},[s("h1",{staticClass:"mb-2"},[t._v("Aucun paiement répertorié !")]),s("p",{staticClass:"lead fs-5 text-danger"},[t._v(" Cher client vous n'avez effectué aucun paiement ! ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-3",attrs:{id:"faqThree"}},[s("h4",{staticClass:"mb-0"},[s("a",{staticClass:"collapsed",attrs:{href:"#!","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"}},[s("i",{staticClass:"fa fa-plus-circle me-1"}),t._v(" Mon certificat ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-8 text-center"},[s("h1",{staticClass:"mb-2"},[t._v("Aucun certificat !")]),s("p",{staticClass:"lead fs-5 text-danger"},[t._v(" Cher client vous ne disposez d'aucun certificat ! ")])])}],$t={components:{go_to_tab:_t},props:{diligence:Object},data(){return{wantToPay:!0,diligenceId:0,payment:{payWithMobile:!0,telephone:"",montant:10,devise:"USD"},cardTransaction:{},payLoading:!1}},methods:{goToTab(t){t?this.$emit("gotonexttab"):this.$emit("gotoprevioustab")},testPay(){if(this.payment.payWithMobile){if(this.payment.telephone.length<10)return this.displayMsg("Numéro de téléphone incorrect."),!1;formData.append("telephone",this.payment.telephone)}},toggleWantToPay(){this.wantToPay?this.wantToPay=!1:this.wantToPay=!0},togglePaymentMethod(){this.payment.payWithMobile?this.payment.payWithMobile=!1:this.payment.payWithMobile=!0},pay(){var t=new FormData;if(this.payment.payWithMobile){if(this.payment.telephone.length<10)return this.displayMsg("Numéro de téléphone incorrect."),!1;t.append("telephone",this.payment.telephone)}this.payLoading=!0,t.append("client_id",this.client.client_id),t.append("diligence_id",this.diligenceId);var e=this.payment.payWithMobile?"mobile":"card";t.append("method",e),t.append("montant",this.payment.montant),t.append("devise",this.payment.devise),this.$store.dispatch("payer",t).then(t=>{this.payLoading=!1,void 0!==t.error?this.displayMsg(t.error):void 0!==t.reponse?"success"===t.reponse.status?this.payment.payWithMobile?this.$swal({title:"Maintenan confirmez la transaction sur votre téléphone.",toast:!0,showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Oui j'ai confirmé",icon:"info",cancelButtonText:"Non annuler"}).then(t=>{t.isConfirmed&&(this.$emit("loading",!0),this.$emit("updatecontent",this.diligenceId),setTimeout(()=>{this.$emit("loading",!1)},3e3))}):(this.cardTransaction=t.reponse.transaction_data,setTimeout(()=>{document.getElementById("card_form").submit()},2e3)):this.displayMsg("Paiement non effectué."):this.displayMsg("Erreur! Réessayez plus tard.")})},displayMsg(t){this.$swal({title:t,toast:!0,timer:3e3,icon:"error",showConfirmButton:!1})}},computed:{certificat(){return this.$store.state.diligenceDetails.certificat},client(){return this.$store.getters.getClient},paiement(){return this.$store.state.diligenceDetails.paiement}},mounted(){this.diligenceId=this.$route.params.id},created(){this.paiement}},Dt=$t,Tt=Object(c["a"])(Dt,kt,qt,!1,null,null,null),St=Tt.exports,Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("go_to_tab",{attrs:{allownexttab:t.allowNextTab,previoustab:!1},on:{gototab:t.goToTab}}),s("form",{ref:"questionForm",on:{submit:function(e){return e.preventDefault(),t.nextQuestion.apply(null,arguments)}}},[s("div",{staticClass:"row g-2"},[s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[s("label",{staticClass:"form-label text-dark fw-bold"},[t._v(" "+t._s(t._f("capitalize")(t.question.question))+" "),"oui"===t.question.obligatoire?s("sup",{staticClass:"text-danger"},[t._v("*")]):t._e()])]),"text"===t.question.reponse_type||"telephone"===t.question.reponse_type||"date"===t.question.reponse_type?s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[void 0===t.question.split?s("div",["multiple"!==t.question.total_reponse?s("div",["date"===t.question.reponse_type?s("div",{staticClass:"mb-3"},t._l(t.question.reponses,(function(e){return s("custom-date-input",{key:e.diligence_questionnaire_id,attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,required:"oui"===t.question.obligatoire,"selected-value":e.reponse},on:{input:function(t){e.reponse=t}}})})),1):s("div",{staticClass:"mb-3"},t._l(t.question.reponses,(function(e){return"checkbox"===t.question.reponse_type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.reponse,expression:"reponse.reponse"}],key:e.diligence_questionnaire_id,staticClass:"form-control",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,id:"subj",placeholder:"Entrez votre réponse !",required:"oui"===t.question.obligatoire,type:"checkbox"},domProps:{checked:Array.isArray(e.reponse)?t._i(e.reponse,null)>-1:e.reponse},on:{change:function(s){var a=e.reponse,i=s.target,n=!!i.checked;if(Array.isArray(a)){var o=null,l=t._i(a,o);i.checked?l<0&&t.$set(e,"reponse",a.concat([o])):l>-1&&t.$set(e,"reponse",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(e,"reponse",n)}}}):"radio"===t.question.reponse_type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.reponse,expression:"reponse.reponse"}],key:e.diligence_questionnaire_id,staticClass:"form-control",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,id:"subj",placeholder:"Entrez votre réponse !",required:"oui"===t.question.obligatoire,type:"radio"},domProps:{checked:t._q(e.reponse,null)},on:{change:function(s){return t.$set(e,"reponse",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.reponse,expression:"reponse.reponse"}],key:e.diligence_questionnaire_id,staticClass:"form-control",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,id:"subj",placeholder:"Entrez votre réponse !",required:"oui"===t.question.obligatoire,type:t.question.reponse_type},domProps:{value:e.reponse},on:{input:function(s){s.target.composing||t.$set(e,"reponse",s.target.value)}}})})),0)]):t._e(),"multiple"===t.question.total_reponse?s("div",[t.question.reponse_type.includes("telephone")?s("div",t._l(t.question.reponses,(function(e,a){return s("div",{key:a,staticClass:"input-group mb-2"},[s("phone-input",{staticClass:"form-control m-0 p-0",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,size:"lg",translations:t.translations,"default-country-code":"CD","no-example":!0,color:"#FF0000",required:"oui"===t.question.obligatoire},on:{update:function(e){return t.updateCountryCode(e,a)}},model:{value:e.reponse,callback:function(s){t.$set(e,"reponse",s)},expression:"reponse.reponse"}}),s("button",{staticClass:"btn btn-danger",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status||t.deleteLoading===e.diligence_questionnaire_id},on:{click:function(e){return e.preventDefault(),t.deleteResponse(t.question.reponses,a)}}},[t.deleteLoading===e.diligence_questionnaire_id?s("i",{staticClass:"fa fa-spinner fa-spin"}):s("i",{staticClass:"bi bi-trash"})])],1)})),0):s("div",t._l(t.question.reponses,(function(e){return s("input",{directives:[{name:"model",rawName:"v-model",value:e.reponse,expression:"reponse.reponse"}],key:e.diligence_questionnaire_id,staticClass:"form-control",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,type:"text",id:"subj",placeholder:"Entrez votre reponse !",required:"oui"===t.question.obligatoire},domProps:{value:e.reponse},on:{input:function(s){s.target.composing||t.$set(e,"reponse",s.target.value)}}})})),0)]):t._e(),"multiple"===t.question.total_reponse?s("button",{staticClass:"btn btn-outline-primary btn-sm mb-3",staticStyle:{"margin-top":"5px"},attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status},on:{click:function(e){return e.preventDefault(),t.addAnswer.apply(null,arguments)}}},[s("i",{staticClass:"bi bi-plus me-2"}),t._v(" Ajouter champs ")]):t._e()]):s("div",[s("button",{staticClass:"btn btn-outline-primary btn-sm mb-2",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status},on:{click:function(e){return e.preventDefault(),t.addAnswer.apply(null,arguments)}}},[s("i",{staticClass:"bi bi-plus me-1"}),t._v("Ajouter adresse")]),t._l(t.question.reponses,(function(e,a){return s("div",{key:a,staticClass:"mb-2 border-1 border-bottom"},[s("div",{staticClass:"d-flex align-items-center mb-2 justify-content-between"},[""!==e.reponse?s("p",{staticClass:"fw-300 mb-2"},[s("i",{staticClass:"bi-signpost-2-fill me-2 text-primary"}),t._v(" "+t._s(e.reponse)+" "),s("button",{staticClass:"btn btn-outline-danger me-2 btn-sm",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status||t.deleteLoading===e.diligence_questionnaire_id,type:"button"},on:{click:function(e){return e.preventDefault(),t.deleteResponse(t.question.reponses,a)}}},[t.deleteLoading===e.diligence_questionnaire_id?s("i",{staticClass:"fa fa-spinner fa-spin"}):s("i",{staticClass:"bi bi-trash"})])]):t._e()]),s("div",{staticClass:"col-md-12"},[""===e.reponse?s("div",{staticClass:"d-flex justify-content-between align-content-center"},[s("div",[s("div",{staticClass:"form-check form-check-inline mb-2"},[s("input",{staticClass:"form-check-input",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,value:"",type:"radio",id:"adresse_type",name:"adresse_type",checked:"",required:"oui"===t.question.obligatoire}}),s("label",{staticClass:"form-check-label",staticStyle:{cursor:"pointer"},attrs:{id:"adresse_type",name:"adresse_type"}},[t._v(" Domiciliaire ")])]),s("div",{staticClass:"form-check form-check-inline mb-2"},[s("input",{staticClass:"form-check-input",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,value:"",type:"radio",id:"adresse_type",name:"adresse_type",required:"oui"===t.question.obligatoire}}),s("label",{staticClass:"form-check-label",staticStyle:{cursor:"pointer"},attrs:{id:"adresse_type"}},[t._v(" Professionnelle ")])])]),t.question.reponses.length>1?s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status},on:{click:function(e){return e.preventDefault(),t.question.reponses.splice(a,1)}}},[s("i",{staticClass:"bi bi-x me-1"}),t._v(" Réduire")]):t._e()]):t._e()]),""===e.reponse?s("address-field",{attrs:{model:e,required:"oui"===t.question.obligatoire}}):t._e()],1)}))],2)]):t._e(),"fixe"===t.question.reponse_type?s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},t._l(t.question.reponse_fixes,(function(e){return s("div",{key:e.reponse_fixe_id,staticClass:"form-check form-check-inline mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.question.reponses[0].reponse,expression:"question.reponses[0].reponse"}],staticClass:"form-check-input",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,type:"radio",id:"label"+e.reponse_fixe_id},domProps:{value:e.reponse,checked:t._q(t.question.reponses[0].reponse,e.reponse)},on:{change:function(s){return t.$set(t.question.reponses[0],"reponse",e.reponse)}}}),s("label",{staticClass:"form-check-label",staticStyle:{cursor:"pointer"},attrs:{for:"label"+e.reponse_fixe_id}},[t._v(" "+t._s(e.reponse)+" ")])])})),0):t._e(),"attachment"===t.question.reponse_type?s("div",{staticClass:"row m-0 p-0"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-md-6 col-sm-12 col-12"},[t.mustUploadDocument?t._e():s("div",{staticClass:"card mb-4 mb-lg-0"},[s("button",{staticClass:"btn btn-danger btn-sm position-absolute",staticStyle:{top:"5px",right:"5px"},attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status}},[s("i",{staticClass:"bi bi-trash"})]),s("div",[s("a",{staticClass:"imghover",attrs:{href:t.question.reponses[0].media,target:"_blank"}},[s("img",{staticClass:"img-fluid",attrs:{src:t.question.reponses[0].media,alt:"Image Preview"}})])]),s("div",{staticClass:"card-body py-1"},[s("h3",[s("a",{staticClass:"text-inherit",attrs:{href:t.question.reponses[0].media,target:"_blank"}},[t._v("Document attaché")])])])])]),s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mb-3 mt-2"},[s("input",{ref:"documentUploaded",staticClass:"form-control",attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status,type:"file",id:"documentUploaded",required:t.mustUploadDocument},on:{change:t.uploadDocument}})])]):t._e(),"capture"===t.question.reponse_type?s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[s("camera",{attrs:{dataImg:t.question.reponses[0].media,captured:t.documentUploaded},on:{onCapture:t.cameraCapture,onDelete:t.deleteCapture}})],1):t._e(),s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[s("nav",[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item",class:0==t.index?"disabled":""},[s("button",{staticClass:"page-link",on:{click:function(e){return e.preventDefault(),t.previousQuestion.apply(null,arguments)}}},[t._v("Précédent")])]),s("li",{staticClass:"page-item disabled"},[s("span",{staticClass:"fw-bold p-2 p-lg-2 bg-app page-link text-white"},[t._v(t._s(t.index+1)+" / "+t._s(t.questionnaire.length))])]),s("li",{staticClass:"page-item",class:t.index>t.questionnaire.length-1||t.isQuesttionLoading?"disabled":""},[s("button",{staticClass:"page-link",attrs:{type:"submit"}},[t.isQuesttionLoading?s("span",{staticClass:"spinner-border spinner-border-sm"}):t._e(),t._v(" Suivant")])])])])])])])],1)},At=[],Pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 mx-auto"},[s("div",{staticClass:"card"},[""===t.media?s("button",{staticClass:"btn btn-sm btn-danger position-absolute z-5",staticStyle:{top:"10px",right:"10px",opacity:".8"},attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status},on:{click:function(e){return e.preventDefault(),t.onDelete.apply(null,arguments)}}},[s("i",{staticClass:"bi bi-x"})]):t._e(),s("div",{staticClass:"card-body"},[""!==t.media?s("button",{staticClass:"btn btn-sm btn-danger position-absolute z-5",staticStyle:{top:"10px",right:"10px",opacity:".8"},attrs:{disabled:null!==t.paiement&&"pending"!==t.paiement.transaction_status},on:{click:function(e){return e.preventDefault(),t.onDelete.apply(null,arguments)}}},[s("i",{staticClass:"bi bi-pencil-square"})]):t._e(),""!==t.media?s("img",{staticClass:"img-fluid rounded",attrs:{"data-aos":"zoom-in",src:t.media}}):t._e(),s("video",{directives:[{name:"show",rawName:"v-show",value:null===t.img&&""===t.media,expression:"img === null && media === ''"}],ref:"video",staticClass:"img-fluid rounded",attrs:{"data-aos":"zoom-in"},on:{canplay:function(e){return t.initCapture()}}},[t._v(" Stream unvailable ")]),s("img",{directives:[{name:"show",rawName:"v-show",value:t.img,expression:"img"}],staticClass:"img-fluid rounded",attrs:{"data-aos":"zoom-in",src:t.img}})]),""===t.media?s("div",{staticClass:"card-footer d-flex"},[s("button",{staticClass:"btn btn-success btn-lg me-2 flex-fill rounded",attrs:{disabled:null!==t.paiement},on:{click:function(e){return e.preventDefault(),t.takePicture()}}},[s("i",{staticClass:"bi-camera-fill"})]),t._m(0),s("input",{staticClass:"d-none",attrs:{disabled:null!==t.paiement,type:"file",id:"uploader"},on:{change:t.uploadImage}})]):t._e()])]),s("canvas",{ref:"canvas",staticClass:"rounded img-fluid",staticStyle:{display:"none"}})])},Mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"btn btn-lg btn-primary flex-fill rounded",attrs:{for:"uploader"}},[s("i",{staticClass:"bi bi-upload"})])}];function Bt(t,e){var s=t.split(","),a=s[0].match(/:(.*?);/)[1],i=atob(s[1]),n=i.length,o=new Uint8Array(n);while(n--)o[n]=i.charCodeAt(n);return new File([o],e,{type:a})}var Nt={name:"camera",data(){return{video:null,img:null,canvas:null,media:this.dataImg}},props:{captured:{type:String,default:null},dataImg:{type:String,default:""}},mounted(){this.startCamera()},methods:{startCapture(){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(t=>{this.video.srcObject=t,this.video.play()}).catch(t=>console.log("CAM"))},uploadImage(t){let e=t.target.files[0];try{if(e.size>1048576)return void alert("Desolé! cette image est invalide");{let t=new FileReader;t.onload=t=>{this.img=t.target.result,this.$emit("onCapture",e)},t.readAsDataURL(e)}}catch(s){}},initCapture(){this.canvas.setAttribute("width",this.video.videoWidth),this.canvas.setAttribute("height",this.video.videoHeight)},takePicture(){let t=this.canvas.getContext("2d");t.drawImage(this.video,0,0,this.video.videoWidth,this.video.videoHeight);let e=Bt(this.canvas.toDataURL("image/png"),"cap-image.png");this.$emit("onCapture",e),this.video.pause()},onDelete(){this.media="",this.startCamera(),this.$emit("onDelete")},startCamera(){this.img=null,setTimeout(()=>{this.video=this.$refs.video,this.canvas=this.$refs.canvas,this.startCapture()},200),this.$forceUpdate()}},computed:{paiement(){return this.$store.state.diligenceDetails.paiement}},watch:{captured(t){t||this.startCapture()}}},Et=Nt,Ot=(s("0a82"),Object(c["a"])(Et,Pt,Mt,!1,null,null,null)),It=Ot.exports,jt={name:"Question-tab-mixin",data(){return{index:0,question:{},sousQuestions:[],diligenceId:0,errorTel:!1,isQuesttionLoading:!1,documentUploaded:null,mustUploadDocument:!0,allowNextTab:!1,translations:{countrySelectorLabel:"Code pays",countrySelectorError:"Choisir un pays",phoneNumberLabel:"Ex. 810000000",example:"Ex. 810000000",data:""}}},computed:{questionnaire(){return this.$store.getters.getQuestionnaire},provinces(){return this.$store.state.provinces},client(){return this.$store.getters.getClient},questionnaireCompletion(){return this.$store.getters.getQuestionsCompletion},paiement(){return this.$store.state.diligenceDetails.paiement}},methods:{updateCountryCode(t,e){if(void 0!==t.formatNational){if("0"===t.nationalNumber[0])return this.$swal({text:"Numéro de téléphone ne doit pas commencer par 0 !",icon:"warning",timer:3e3,toast:!0,showConfirmButton:!1}),this.errorTel=!0,void(this.question.reponses[e].reponse="");if(t.nationalNumber.length>9)return this.$swal({text:"Numéro de téléphone invalide",icon:"warning",timer:3e3,toast:!0,showConfirmButton:!1}),this.errorTel=!0,void(this.question.reponses[e].reponse="");if(t.nationalNumber.length<9)return void(this.errorTel=!0);this.question.reponses[e].reponse=t.e164,this.errorTel=!1}},isQuestionnaireCompleted(){var t=this.questionnaireCompletion.total_questions,e=this.questionnaireCompletion.total_reponses;return t===e?(this.allowNextTab=!0,this.index=0,this.$emit("updateContent"),!0):(this.allowNextTab=!1,!1)},goToTab(t){t?this.$emit("gotonexttab"):this.$emit("gotoprevioustab")},goToNextTab(){this.$emit("gotonexttab")},cameraCapture(t){this.documentUploaded=t,this.question.reponses[0].reponse=t},deleteCapture(){this.documentUploaded=null,this.question.reponses[0].reponse=""},async nextQuestion(t){if(this.errorTel)return void this.$swal({title:"Numéro de téléphone invalide",text:"Veuillez saisir à la limite un total de 9 chiffres !",icon:"warning",timer:3e3,toast:!0,showConfirmButton:!1});if(this.question.split){let t=this.question.reponses[this.question.reponses.length-1];for(let e in t){let s=(""+t[e]).trim();if(""===s)return void this.displayMsg("Vous devez entrer une adresse complet !","warning")}}if(this.question.question.includes("condamné en justice")&&this.question.reponses[0].reponse.includes("Non")){var e=!1;if(await this.$swal({title:"Est-ce que vous autoriser à vérifier cette information auprès des instances judiciaires?",icon:"warning",toast:!0,showConfirmButton:!0,confirmButtonText:"Oui",showCancelButton:!0,cancelButtonText:"Non"}).then(t=>{e=t.isConfirmed}),!e)return this.displayMsg("Désolé!! vous ne pouvez pas continuer."),!1}let s=!1,a=localStorage.getItem("last-response"),i=JSON.parse(a);if(void 0===i.questions[this.index])s=await this.sendReponseToServer();else if(this.question.reponses.length>i.questions[this.index].reponses.length)s=await this.sendReponseToServer();else for(let n=0;n<this.question.reponses.length;n++){if(i.questions[this.index].reponses[n].reponse===this.question.reponses[n].reponse&&""!==this.question.reponses[n].reponse){s=!0;break}s=await this.sendReponseToServer();break}if(!s)return!1;this.index<this.questionnaire.length-1?(this.index=this.index+1,this.question=this.questionnaire[this.index],"attachment"!==this.question.reponse_type&&"capture"!==this.question.reponse_type||(this.documentUploaded=this.question.reponses[0].reponse,void 0===this.question.reponses[0].media||null===this.question.reponses[0].media?this.mustUploadDocument=!0:this.mustUploadDocument=!1)):this.goToNextTab()},previousQuestion(){this.index=this.index-1,this.question=this.questionnaire[this.index]},async sendReponseToServer(){var t=!1;if("attachment"===this.question.reponse_type||"capture"===this.question.reponse_type){if(null===this.documentUploaded&&!0===this.mustUploadDocument)return"attachment"===this.question.reponse_type?(this.displayMsg("Veuillez attacher un document."),!1):(this.displayMsg("Veuillez vous prendre en photo."),!1)}else if("oui"===this.question.obligatoire&&this.question.reponses[0].reponse.length<1)return this.displayMsg("Répondez à cette question d'abord !"),!1;var e=new FormData;if(e.append("client_id",this.client.client_id),e.append("diligence_id",this.diligenceId),void 0===this.question.question_id||null===this.question?e.append("sous_question_id",this.question.sous_question_id):e.append("question_id",this.question.question_id),null===this.documentUploaded)for(var s=0;s<this.question.reponses.length;s++)void 0!==this.question.reponses[s].diligence_questionnaire_id&&null!==this.question.reponses[s].diligence_questionnaire_id?e.append("diligence_questionnaire_id",this.question.reponses[s].diligence_questionnaire_id):e.delete("diligence_questionnaire_id"),e.append("reponse",this.question.reponses[s].reponse),this.isQuesttionLoading=!0,await this.$store.dispatch("repondreQuestion",e).then(e=>{void 0!==e.reponse&&"success"===e.reponse.status||this.displayMsg("Impossible d'enregistrer votre réponse à la question précédente !"),t=!0,this.question.reponses[s].diligence_questionnaire_id=e.reponse.diligence_questionnaire_id,this.isQuesttionLoading=!1,this.$emit("updatecontent")}).catch(t=>{this.isQuesttionLoading=!1});else e.append("fichier",this.documentUploaded),e.append("designation",this.question.question),this.documentUploaded instanceof File?(this.isQuesttionLoading=!0,await this.$store.dispatch("repondreQuestion",e).then(e=>{void 0===e.reponse||"success"!==e.reponse.status?this.displayMsg("Votre document précédent n'a pas été téléchargé"):(this.documentUploaded=null,t=!0,this.isQuesttionLoading=!1)}).catch(t=>{this.isQuesttionLoading=!1})):t=!0;return this.documentUploaded=null,e=new FormData,e.append("diligence_id",this.diligenceId),e.append("client_id",this.client.client_id),this.$store.dispatch("viewDiligenceDetails",e).then(t=>{"attachment"===this.question.reponse_type&&this.$refs.questionForm.reset()}),!!t},displayMsg(t,e="error"){this.$swal({title:t,icon:e,timer:3e3,toast:!0,showConfirmButton:!1})},addAnswer(){var t={reponse:""};void 0!==this.question.split&&(t.split={province:"",avenue:"",numero:"",quartier:"",thiserence:"",commune:""}),this.question.reponses.push(t)},uploadDocument(t){let e=t.target.files[0];this.documentUploaded=e},handleSplit(t,...e){t.reponse=e.toString()}},created(){this.diligenceId=this.$route.params.id},mounted(){this.diligenceId=this.$route.params.id,this.question=this.questionnaire[0],this.isQuestionnaireCompleted()},watch:{question(t,e){},"question.reponses[0]"(t,e){}}},Ft={components:{camera:It,go_to_tab:_t},mixins:[jt],data(){return{deleteLoading:""}},methods:{deleteResponse(t,e){void 0===t[e].diligence_questionnaire_id?t.splice(e,1):this.$swal.fire({title:"Etes-vous sûr ?",text:"Voulez vous vraiment supprimer cette reponse ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui",cancelButtonText:"Non"}).then(s=>{s.isConfirmed&&(this.deleteLoading=t[e].diligence_questionnaire_id,this.$store.dispatch("supprimerReponse",t[e].diligence_questionnaire_id).then(s=>{console.clear(),this.deleteLoading="",t[e].reponse="",t.splice(e,1),this.$emit("updatecontent")}).catch(t=>{this.deleteLoading=""}))})}}},Vt=Ft,zt=(s("e525"),Object(c["a"])(Vt,Lt,At,!1,null,null,null)),Ut=zt.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{"data-aos":"fade-up"}},[s("go_to_tab",{attrs:{allownexttab:t.allowNextTab,askpermission:t.askCheckingPermission,"permission-text":"Est-ce que vous nous autoriser à cette information?"},on:{gototab:t.goToTab}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[t.diligenceActifs.length<1?s("div",{staticClass:"mb-2"},[s("p",{staticClass:"fs-4 text-dark"},[t._v("Avez-vous des actifs ?")]),s("div",[s("div",{staticClass:"form-check form-check-inline",staticStyle:{cursor:"pointer"}},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",value:"oui",name:"flexRadioDefault",id:"yes"},on:{change:function(e){return t.checkedChanged(e)}}}),s("label",{staticClass:"form-check-label text-success",attrs:{for:"yes"}},[t._v(" Oui ")])]),s("div",{staticClass:"form-check form-check-inline",staticStyle:{cursor:"pointer"}},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"flexRadioDefault",id:"no",value:"non"},on:{change:function(e){return t.checkedChanged(e)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"no"}},[t._v(" Non ")])])])]):t._e()])]),t.diligenceActifs.length?s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-md-12 col-12 mb-3"},[s("div",{staticClass:"d-flex justify-content-between"},[s("h1",{staticClass:"mb-0"},[t._v("Mes actifs")]),s("button",{staticClass:"btn btn-danger rounded border-0",on:{click:t.toggleScrollerBottom}},[t.newActif?s("span",{staticClass:"fs-7"},[s("i",{staticClass:"fas fa-minus me-1"}),t._v("Fermer")]):s("span",{staticClass:"fs-7"},[s("i",{staticClass:"fas fa-plus me-1"}),t._v("Ajouter plus d'actifs")])])])]),t._l(t.diligenceActifs,(function(e,a){return s("div",{key:a,staticClass:"col-xl-3 col-lg-4 col-md-4 col-sm-4 col-12"},[s("div",{staticClass:"card mb-6 text-center border-0 bg-light-success"},[s("button",{staticClass:"btn btn-icon btn-danger position-absolute end-0 top-0",attrs:{disabled:t.isActifDeletedLoading===e.actif_id},on:{click:function(s){return s.preventDefault(),t.deleteActif(e)}}},[t.isActifDeletedLoading===e.actif_id?s("span",{staticClass:"spinner-border spinner-border-sm"}):s("span",{staticClass:"bi bi-trash"})]),s("div",{staticClass:"card-body p-5"},[t._m(0,!0),s("h3",{staticClass:"mb-2"},[t._v(" "+t._s(e.titre)+" ")]),s("button",{staticClass:"btn btn-sm btn-info mt-3 text-white fw-medium fs-6",on:{click:function(s){return s.preventDefault(),t.onShowDetails(e)}}},[s("svg",{attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"13px",height:"7px",viewBox:"0 0 13 7","enable-background":"new 0 0 13 7","xml:space":"preserve"}},[s("polygon",{staticClass:"arrow_poly",attrs:{id:"arrow_poly_1",fill:"#FFFFFF",points:"13,3.5 9,0 9,3 0,3 0,4 9,4 9,7 "}})]),t._v(" Voir détails ")])])])])}))],2):t._e(),t.newActif?s("div",{staticClass:"row",attrs:{"data-aos":"fade-up",id:"target"}},[t._m(1),t._l(t.actifs,(function(e,a){return s("div",{key:a,staticClass:"col-xl-3 col-lg-4 col-md-4 col-sm-4 col-12"},[s("div",{staticClass:"card text-center text-white bg-dual-gradient mb-6"},[t._m(2,!0),s("div",{staticClass:"card-body p-6"},[s("h3",{staticClass:"mb-2 text-white"},[t._v(t._s(e.titre))]),s("button",{staticClass:"btn btn-sm btn-light mt-2 border-0",on:{click:function(s){return t.getSelectedActif(e)}}},[s("i",{staticClass:"fa fa-plus mx-1"}),t._v("Ajouter ")])])])])}))],2):t._e(),s("portal",{attrs:{to:"modal"}},[s("detail-modal",{attrs:{data:t.inputs,diligence:t.diligence,diligenceId:t.diligenceId},on:{allowNext:function(e){t.allowNextTab=!0}}})],1)],1)},Kt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-3"},[s("img",{staticClass:"icon-xxl",attrs:{src:"assets/images/svg/mortgage.svg",alt:"Borrow - Loan Company Website Template"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md-12"},[s("div",{staticClass:"mb-4"},[s("h2",{staticClass:"mb-1 fw-medium"},[t._v("Cher client veuillez ajouter vos actifs !")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-shape icon-lg bg-primary-gradient rounded-circle mx-auto mt-n4 text-white"},[s("span",{staticClass:"fs-3"},[s("i",{staticClass:"fas fa-check"})])])}],Qt={name:"actifs",components:{go_to_tab:_t},props:{diligence:{}},data(){return{selected_actif:{},inputs:{},isLoading:!1,file:"",diligenceId:0,newActif:!1,isActifDeletedLoading:"",askCheckingPermission:!0,checkingPermission:!1,allowNextTab:!1}},computed:{...Object(i["b"])({actifs:"getActifs",client:"getClient",diligenceActifs:"getDiligenceActifs"})},methods:{goToTab(t){t?this.$emit("gotonexttab"):this.$emit("gotoprevioustab")},deleteActif(t){this.$swal({text:"Etes-vous sûr de vouloir supprimer le document sélectionné ?",icon:"warning",showConfirmButton:!0,confirmButtonText:"Oui",showCancelButton:!0,cancelButtonText:"Non"}).then(e=>{this.isActifDeletedLoading=t.actif_id;let s=new FormData;s.append("client_id",this.client.client_id),s.append("diligence_actif_id",t.diligence_actif_id),this.$axios.post("/clients/diligences/actifs/supprimer",s).then(t=>{this.$emit("updatecontent"),this.isActifDeletedLoading=""})})},checkedChanged(t){if("yes"===t.target.id&&t.target.checked){this.toggleNewActif(!0);const t=Object(V["a"])();setTimeout(()=>{t("#target")},100)}"no"===t.target.id&&t.target.checked&&this.toggleNewActif(!1)},toggleNewActif(t){this.newActif=t,this.newActif?this.diligenceActifs.length>0?this.allowNextTab=!0:this.allowNextTab=!1:this.allowNextTab=!0},getSelectedActifDetails(t){this.selected_actif=t;const e=Object(V["a"])();setTimeout(()=>{e("#bottom")},100)},cancelSelectedDetail(){this.selected_actif={}},changeFile(t){t.target.files[0]},getSelectedActif(t){this.inputs=t,this.$emit("onSelectedActif",t)},onShowDetails(t){this.$emit("showDetails",t)},toggleScrollerBottom(){this.newActif=!this.newActif;const t=Object(V["a"])();setTimeout(()=>{t("#target")},100)},saveDetail(t,e){let s=new FormData;s.append("client_id",this.client.client_id),s.append("diligence_actif_id",e),s.append("actif_detail_id",t.actif_detail_id),s.append("detail",t.data),this.$axios.post("/clients/diligences/actifs/savedetail",s).then(t=>{JSON.stringify(t.data)}).catch(t=>{this.isLoading=!1})}},mounted(){this.diligenceActifs.length>0&&(this.allowNextTab=!0,this.askCheckingPermission=!1),this.diligenceId=this.$route.params.id}},Wt=Qt,Ht=Object(c["a"])(Wt,Rt,Kt,!1,null,null,null),Jt=Ht.exports,Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"actif-tab"},[s("go_to_tab",{attrs:{allownexttab:t.allowNextTab,askpermission:t.askCheckingPermission,permissiontext:"Est-ce que vous nous autoriser à vérifier cette information auprès des institutions bancaires?"},on:{gototab:t.goToTab}}),t.credits.length<1?s("div",[!1===t.newCredit?s("div",[s("div",[s("div",{staticClass:"mb-2 mt-2"},[s("p",{staticClass:"fs-12 fw-bold text-danger"},[t._v("Avez-vous des crédits bancaires ?")]),s("div",[s("div",{staticClass:"form-check form-check-inline",staticStyle:{cursor:"pointer"}},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",value:"oui",name:"flexRadioDefault",id:"yes"},on:{change:function(e){return t.checkedChanged(e)}}}),s("label",{staticClass:"form-check-label text-success",attrs:{for:"yes"}},[t._v(" Oui ")])]),s("div",{staticClass:"form-check form-check-inline",staticStyle:{cursor:"pointer"}},[s("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"flexRadioDefault",id:"no",value:"non"},on:{change:function(e){return t.checkedChanged(e)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"no"}},[t._v(" Non ")])])])])])]):t._e()]):t._e(),t.credits.length>0?s("div",[s("div",{staticClass:"single-title d-flex align-center justify-content-between mb-2 mt-2"},[t._m(0),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{"data-bs-toggle":"modal","data-bs-target":"#modalCredit"},on:{click:t.onModalOpenned}},[s("span",{staticClass:"bi-plus"}),t._v(" Ajouter ")])]),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 col-lg-12"},[s("table",{staticClass:"table table-striped"},[t._m(1),s("tbody",t._l(t.credits,(function(e){return s("tr",{key:e},[s("td",[t._v(t._s(e.banque))]),s("td",[t._v(t._s(e.motif))]),s("td",[t._v(t._s(e.montant))]),s("td",[t._v(t._s(e.date_credit))]),s("td",[t._v("-")]),s("td",[t._v(t._s(e.echeance_remboursement))]),s("td",[t._v(t._s(e.dernier_paiement_date))]),s("td",[t._v(t._s(e.solde))]),s("td",[s("button",{staticClass:"btn btn-info text-white p-2 me-1",staticStyle:{display:"none"},on:{click:function(s){return t.editCredit(e)}}},[s("span",{staticClass:"fa fa-edit fs-7"})]),s("button",{staticClass:"btn btn-danger p-2",attrs:{disabled:t.isDeleteLoading===e.credit_id},on:{click:function(s){return t.deleteOneCredit(e)}}},[t.isDeleteLoading===e.credit_id?s("span",{staticClass:"spinner-border spinner-border-sm"}):s("span",{staticClass:"fa fa-trash fs-7"})])])])})),0)])])])]):t._e(),s("portal",{attrs:{to:"modal"}},[s("div",{staticClass:"modal fade",attrs:{id:"modalCredit",tabindex:"-1","aria-labelledby":"modalCreditLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false"}},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h2",{staticClass:"modal-title",attrs:{id:"modalCreditLabel"}},[t._v(t._s(t.credit.hasEdited?"Modification du crédit sélectionné":"Rengistrement de votre crédit"))]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.toggleNewCredit(!1)}}}),s("button",{staticClass:"d-none",attrs:{type:"button",id:"btn-trigger-modal","data-bs-toggle":"modal","data-bs-target":"#modalCredit"}})]),s("div",{staticClass:"modal-body"},[s("p",{staticClass:"text-danger fs-5"},[s("span",{staticClass:"bi-info"}),t._v(" Veuillez renseigner votre crédit s'il vous plait ")]),s("form",{attrs:{id:"creditForm"},on:{submit:function(e){return e.preventDefault(),t.enregistrerCredit.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 col-lg-6"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-2 mt-2 form-label"},[t._v("Banque "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),t.selectBanque?s("select",{directives:[{name:"model",rawName:"v-model",value:t.credit.banque,expression:"credit.banque"}],staticClass:"form-control",attrs:{name:"",id:"",required:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.credit,"banque",e.target.multiple?s:s[0])},t.toggleSelectBanque]}},[s("option",{attrs:{value:""}},[t._v("--------")]),s("option",{attrs:{value:"EquityBCDC"}},[t._v("EquityBCDC")]),s("option",{attrs:{value:"Rawbank"}},[t._v("Rawbank")]),s("option",{attrs:{value:"UBA"}},[t._v("UBA")]),s("option",{attrs:{value:"FBNBank"}},[t._v("FBNBank")]),s("option",{attrs:{value:"SofiBank"}},[t._v("SofiBank")]),s("option",{attrs:{value:"AccessBank"}},[t._v("AccessBank")]),s("option",{attrs:{value:"EcoBank"}},[t._v("EcoBank")]),s("option",{attrs:{value:"Afriland First Bank"}},[t._v("Afriland First Bank")]),s("option",{attrs:{value:"BGFI Bank"}},[t._v("BGFI Bank")]),s("option",{attrs:{value:"BOA Bank"}},[t._v("BOA Bank")]),s("option",{attrs:{value:"Autre"}},[t._v("Autre banque...")])]):s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.credit.banque,expression:"credit.banque"}],staticClass:"text_field form-control",attrs:{type:"text",placeholder:"Saisissez la banque..","aria-label":"Text input with dropdown button",required:""},domProps:{value:t.credit.banque},on:{input:function(e){e.target.composing||t.$set(t.credit,"banque",e.target.value)}}}),s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){t.selectBanque=!0}}},[s("i",{staticClass:"bi-arrows-collapse"})])])])]),s("div",{staticClass:"col-md-6 col-lg-6"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-2 mt-2"},[t._v("Motif du crédit "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),t.selectMofif?s("select",{directives:[{name:"model",rawName:"v-model",value:t.credit.motif,expression:"credit.motif"}],staticClass:"form-control",attrs:{name:"",id:"",required:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.credit,"motif",e.target.multiple?s:s[0])},t.toggleSelectMotif]}},[s("option",{attrs:{value:""}},[t._v("-----------")]),s("option",{attrs:{value:"Scolaire"}},[t._v("Scolaire")]),s("option",{attrs:{value:"Business"}},[t._v("Business")]),s("option",{attrs:{value:"Achat parcelle"}},[t._v("Achat parcelle")]),s("option",{attrs:{value:"Autre"}},[t._v("Autre motif...")])]):s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.credit.motif,expression:"credit.motif"}],staticClass:"text_field form-control",attrs:{type:"text",placeholder:"Saisissez le motif..","aria-label":"Text input with dropdown button",required:""},domProps:{value:t.credit.motif},on:{input:function(e){e.target.composing||t.$set(t.credit,"motif",e.target.value)}}}),s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){t.selectMofif=!0}}},[s("i",{staticClass:"bi-arrows-collapse"})])])])]),s("div",{staticClass:"col-md-6 col-lg-6"},[s("div",[s("label",{staticClass:"mb-2 mt-2"},[t._v("Montant "),"USD"===t.devise?s("span",[t._v("(USD)")]):"CDF"===t.devise?s("span",[t._v("(CDF)")]):t._e(),t._v(" "),s("sup",{staticClass:"text-danger"},[t._v("*")])])]),s("div",{staticClass:"input-group form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.credit.montant,expression:"credit.montant"}],staticClass:"text_field form-control",attrs:{type:"number",placeholder:"Montant..","aria-label":"Text input with dropdown button",required:""},domProps:{value:t.credit.montant},on:{input:function(e){e.target.composing||t.$set(t.credit,"montant",e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.devise,expression:"devise"}],staticClass:"form-control btn btn-primary",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.devise=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"USD"}},[t._v("USD")]),s("option",{attrs:{value:"CDF"}},[t._v("CDF")])])])])]),s("div",{staticClass:"col-md-6 col-lg-6"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-2 mt-2"},[t._v("Date de souscription "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.credit.date_credit,expression:"credit.date_credit"}],staticClass:"text_field form-control",attrs:{type:"date",required:""},domProps:{value:t.credit.date_credit},on:{input:function(e){e.target.composing||t.$set(t.credit,"date_credit",e.target.value)}}})])]),s("div",{staticClass:"col-md-6 col-lg-6"},[s("div",[s("label",{staticClass:"mb-2 mt-2"},[t._v("Durée "),s("sup",{staticClass:"text-danger"},[t._v("*")])])]),s("div",{staticClass:"input-group form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.credit.duree_credit,expression:"credit.duree_credit"}],staticClass:"text_field form-control",attrs:{type:"number",placeholder:"Durée","aria-label":"Text input with dropdown button",required:""},domProps:{value:t.credit.duree_credit},on:{input:function(e){e.target.composing||t.$set(t.credit,"duree_credit",e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.credit.duree_mois_annee,expression:"credit.duree_mois_annee"}],staticClass:"form-control btn btn-primary",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.credit,"duree_mois_annee",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"Mois"}},[t._v("Mois")]),s("option",{attrs:{value:"Annee"}},[t._v("Année")])])])])]),s("div",{staticClass:"col-md-6 col-lg-6"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-2 mt-2"},[t._v("Echéance du remboursement "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.credit.echeance_remboursement,expression:"credit.echeance_remboursement"}],staticClass:"text_field form-control",attrs:{type:"text",placeholder:"Echéance..",required:""},domProps:{value:t.credit.echeance_remboursement},on:{input:function(e){e.target.composing||t.$set(t.credit,"echeance_remboursement",e.target.value)}}})])]),s("div",{staticClass:"col-md-6 col-lg-6"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-2 mt-2"},[t._v("Date du dernier paiement "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.credit.date_dernier_paiement,expression:"credit.date_dernier_paiement"}],staticClass:"text_field form-control",attrs:{type:"date",required:""},domProps:{value:t.credit.date_dernier_paiement},on:{input:function(e){e.target.composing||t.$set(t.credit,"date_dernier_paiement",e.target.value)}}})])]),s("div",{staticClass:"col-md-6 col-lg-6"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"mb-2 mt-2"},[t._v("Solde "),"USD"===t.devise?s("span",[t._v("(USD)")]):"CDF"===t.devise?s("span",[t._v("(CDF)")]):t._e(),t._v(" "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.credit.solde,expression:"credit.solde"}],staticClass:"text_field form-control",attrs:{type:"text",placeholder:"Solde..",required:""},domProps:{value:t.credit.solde},on:{input:function(e){e.target.composing||t.$set(t.credit,"solde",e.target.value)}}})])])]),s("div",{staticClass:"mt-3"},[t.credit.hasEdited?s("button",{staticClass:"btn btn-info me-2 text-white",class:t.isLoading?"disabled":"",attrs:{type:"submit"}},[t.isLoading?s("span",{staticClass:"spinner spinner-border spinner-border-sm me-2"}):s("i",{staticClass:"fa fa-pen"}),t._v(" Sauvegarder les modifications ")]):s("button",{staticClass:"btn btn-success me-2",class:t.isLoading?"disabled":"",attrs:{type:"submit"}},[t.isLoading?s("span",{staticClass:"spinner spinner-border spinner-border-sm me-2"}):s("i",{staticClass:"fa fa-plus"}),t._v(" Sauvegarder ")]),s("button",{staticClass:"btn me-2 btn-danger",attrs:{"data-bs-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.toggleNewCredit(!1)}}},[s("i",{staticClass:"mr-2 fa fa-close"}),t._v("Annuler ")])])])])])])])])],1)},Gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[s("i",{staticClass:"fa fa-money"}),t._v(" "),s("span",[t._v("Vos Crédits")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"text-capitalize fw-bold text-black"},[s("th",[t._v("Banque")]),s("th",[t._v("Motif")]),s("th",[t._v("Montant")]),s("th",[t._v("Date crédit")]),s("th",[t._v("Durée")]),s("th",[t._v("Echéance")]),s("th",[t._v("Dernier paiement")]),s("th",[t._v("Solde")]),s("th",[t._v("Action")])])}],Xt={name:"credits",components:{go_to_tab:_t},data(){var t={banque:"",motif:"",montant:"",devise:"USD",date_credit:"",duree_credit:"",duree_mois_annee:"Mois",echeance_remboursement:"",date_dernier_paiement:"",solde:"",hasEdited:!1};return{devise:"USD",isLoading:!1,isDeleteLoading:"",credit:t,diligenceId:0,newCredit:!1,askCheckingPermission:!0,checkingPermission:!1,allowNextTab:!1,selectMofif:!0,selectBanque:!0}},computed:{client(){return this.$store.getters.getClient},credits(){return this.$store.getters.getCredits}},methods:{deleteOneCredit(t){let e={credit_id:t.credit_id,client_id:this.client.client_id};this.$swal.fire({title:"Etes-vous sûr ?",text:"Voulez vous supprimer le crédit sélectionné!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui",cancelButtonText:"Non"}).then(s=>{s.isConfirmed&&(this.isDeleteLoading=t.credit_id,this.$store.dispatch("deleteCredit",e).then(async t=>{await this.$emit("updatecontent"),this.isDeleteLoading=""}))})},onModalOpenned(){credit.hasEdited=!1,this.selectMofif=!0,this.selectBanque=!0},editCredit(t){this.selectMofif=!0,this.selectBanque=!0,this.credit.hasEdited=!0,this.credit.hasEdited&&(this.credit.montant=t.montant,this.credit.motif=t.motif,this.credit.banque=t.banque,this.credit.devise=t.devise,this.credit.solde=t.solde,x()("#btn-trigger-modal").click())},toggleSelectMotif(t){t.target.value.includes("Autre")?(this.selectMofif=!1,this.credit.motif=""):this.selectMofif=!0},toggleSelectBanque(t){t.target.value.includes("Autre")?(this.selectBanque=!1,this.credit.banque=""):this.selectBanque=!0},goToTab(t){t?this.$emit("gotonexttab"):this.$emit("gotoprevioustab")},cleanInputs(){this.credit.banque="",this.credit.motif="",this.credit.montant="",this.credit.devise="USD",this.credit.date_credit="",this.credit.duree_credit="",this.credit.duree_mois_annee="Mois",this.credit.echeance_remboursement="",this.credit.date_dernier_paiement="",this.credit.solde=""},enregistrerCredit(t){var e=new FormData;e.append("diligence_id",this.diligenceId),e.append("client_id",this.client.client_id),e.append("banque",this.credit.banque),e.append("motif",this.credit.motif),e.append("montant",this.credit.montant),e.append("duree_credit",this.credit.duree_credit+" "+this.credit.duree_mois_annee),e.append("devise",this.devise),e.append("date_credit",this.credit.date_credit),e.append("solde",this.credit.solde),e.append("dernier_paiement_date",this.credit.date_dernier_paiement);const s=new Date(this.credit.date_credit).getTime(),a=new Date(this.credit.date_dernier_paiement).getTime(),i=new Date(Date.now()).getTime();s>i?this.$swal.fire({text:"La date de votre crédit est invalide !",icon:"warning",toast:!0,timer:3e3,showConfirmButton:!1}):a>i?this.$swal.fire({text:"La date du dernier paiement invalide !",icon:"warning",toast:!0,timer:3e3,showConfirmButton:!1}):(this.isLoading=!0,this.$store.dispatch("enregistrerCredit",e).then(async t=>{void 0!==t.error&&this.$emit("alert",t.error),await this.$emit("updatecontent"),this.cleanInputs(),x()(".btn-close").click(),this.newCredit=!1,this.isLoading=!1}))},toggleNewCredit(t){this.newCredit=t,this.newCredit?this.allowNextTab=!1:this.allowNextTab=!0,this.cleanInputs()},checkedChanged(t){"yes"===t.target.id&&t.target.checked&&(this.toggleNewCredit(!0),x()("#btn-trigger-modal").click()),"no"===t.target.id&&t.target.checked&&this.toggleNewCredit(!1)},toggleCheckingPermission(t){this.checkingPermission=t,this.checkingPermission?this.askCheckingPermission=!1:this.$emit("alert","Désolé !! vous ne pouvez pas continuer.")}},mounted(){this.diligenceId=this.$route.params.id,this.credits.length>0&&(this.allowNextTab=!0,this.askCheckingPermission=!1)},watch:{credits(t,e){t.length>0&&(this.allowNextTab=!0,this.askCheckingPermission=!1)}}},Yt=Xt,te=Object(c["a"])(Yt,Zt,Gt,!1,null,"7f583ff4",null),ee=te.exports,se={components:{questionTab:Ut,actifTab:Jt,docTab:wt,payTab:St,creditsTab:ee,loader:Y},data(){return{diligenceId:0,dataLoaded:!1,isLoading:!1,tabs:{actifs:!0,credits:!0,documents:!0,certificat:!0},canGoToNextTab:!1,selected_actif:{},actif_details:{}}},methods:{showQuestions(){},onSelectedActif(t){this.selected_actif=t,x()("#inputsShowBtn").click()},onShowDetails(t){this.actif_details=t,x()("#detailShowBtn").click()},displayMsg(t,e="error"){this.$swal({title:t,icon:e,timer:3e3,toast:!0,showConfirmButton:!1})},goToTab(t,e=!0){var s=[{name:"questions",buttonId:"questionsTab"},{name:"actifs",buttonId:"actifTab"},{name:"credits",buttonId:"creditsTab"},{name:"documents",buttonId:"docTab"},{name:"certificat",buttonId:"certificatTab"}],a=null;if(e){for(var i=0;i<s.length;i++)if(t===s[i].name&&(a=i),null!==a&&i>a&&this.canAccessTab(s[i].name)){let t=s[i].buttonId;x()("#"+t).click();break}}else for(i=s.length-1;i>=0;i--)if(t===s[i].name&&(a=i),null!==a&&i<a&&this.canAccessTab(s[i].name)){document.getElementById(s[i].buttonId).click();break}},displayLoader(t){this.isLoading=!!t},async updateContent(){var t=new FormData;t.append("diligence_id",this.diligenceId),t.append("client_id",this.client.client_id),this.$store.dispatch("viewDiligenceDetails",t).then(t=>{this.dataLoaded=!0})},blockTabChange(t){var e=this.questionnaireCompletion.total_questions,s=this.questionnaireCompletion.total_reponses;return e-s>0},canAccessTab(t){var e=this.diligence.diligence_type;if("actifs"===t){if(e.includes("juridique")||e.includes("fournisseur"))return!1}else if("credits"===t&&(e.includes("juridique")||e.includes("basique")||e.includes("actif")))return!1;return!0}},computed:{client(){return this.$store.getters.getClient},diligence(){for(var t=this.$store.getters.getDiligences,e={},s=0;s<t.length;s++)t[s].diligence_id===this.diligenceId&&(e=t[s]);return e},questions(){return this.$store.getters.getQuestionnaire},diligenceQuestionnaire(){return this.$store.state.diligenceDetails.questionnaire},questionnaireCompletion(){return this.$store.getters.getQuestionsCompletion}},mounted(){const t=Object(V["a"])();t("#header-layout"),this.diligenceId=this.$route.params.id,location.href.includes("paiement")&&(this.isLoading=!0,setTimeout(()=>{document.getElementById("certificatTab").click(),document.getElementById("paiementEnCour").click(),this.isLoading=!1},3e3)),this.updateContent()},created(){this.diligenceId=this.$route.params.id}},ae=se,ie=Object(c["a"])(ae,dt,ut,!1,null,null,null),ne=ie.exports,oe={save:function(t,e){var s=JSON.stringify(e);void 0!==s&&null!==s&&localStorage.setItem(t,s)},get:function(t){var e=localStorage.getItem(t);return void 0===e||null===e?null:JSON.parse(e)},delete:function(t){localStorage.removeItem(t)}};function le(t,e,s){var a=oe.get("client");null!==a&&void 0!==a&&Object.keys(a).length>0?s():s({name:"login"})}const re=[{path:"/",component:b,name:"login"},{path:"/creation/compte",component:$,name:"register"},{path:"/motdepasse+reset",component:()=>s.e("chunk-2d0a310b").then(s.bind(null,"011e")),name:"reset"},{path:"/home",component:K,name:"main",beforeEnter:le,children:[{path:"",component:at,name:"home"},{path:"/creation/diligence",component:ct,name:"new-loan"},{path:"/diligences/view/:id",component:ne,name:"loan-view"}]}];var ce=re;a["default"].use(p["a"]);var de=new p["a"]({routes:ce}),ue="http://127.0.0.1/verifixs-backend-new";location.href.includes(".io")&&("https:"!=location.protocol&&(location.protocol="https:"),location.href.includes(".io")&&(ue="https://dgi.kaapital.net"));const pe={baseURL:ue,diligences:[],diligenceDetails:{},client:{},actifs:[],diligenceTypes:[],provinces:[{id:1,title:"Kinshasa",villes:["Kinshasa"]},{id:2,title:"Kongo-central",villes:["Matadi","Boma","Mbanza-Ngungu","Kasangulu","Kimvula","Lukula","Luozi","Madimba","Mbanza-Ngungu","Moanda","Seke-Banza","Songololo","Tshela"]},{id:3,title:"Maï-Ndombe",villes:["Inongo","Bolobo","Kiri","Kutu","Kwamouth","Mushie","Oshwe","Yumbi"]},{id:4,title:"Equateur",villes:["Mbandaka","Basankusu","Bikoro","Bolomba","Bomongo","Ingende","Lukolela","Mankanza"]},{id:5,title:"Sud-Ubangi",villes:["Gemena","Zongo","Budjala","Kungu","Libenge"]},{id:6,title:"Nord-Ubangi",villes:["Gbadolite","Bosobolo","Businga","Mobayi-Mbongo","Yakoma"]},{id:7,title:"Mongala",villes:["Lisala","Bumba","Bongandanga"]},{id:8,title:"Bas-Uele",villes:["Buta","Aketi","Ango","Bambesa","Bondo","Poko"]},{id:9,title:"Haut-Uele",villes:["Isiro","Dungu","Faradje","Niangara","Rungu","Wamba","Watsa"]},{id:10,title:"Ituri",villes:["Bunia","Aru","Djugu","Irumu","Mahagi","Mambasa"]},{id:11,title:"Kwilu",villes:["Bandundu","Kikwit","Bagata","Bulungu","Gungu","Idiofa","Masi-Manimba"]},{id:12,title:"Kwango",villes:["Kenge","Feshi","Kahemba","Kasongo-Lunda","Kenge","Popokabaka"]},{id:13,title:"Tshuapa",villes:["Boende","Befale","Bokungu","Djolu","Ikela","Monkoto"]},{id:14,title:"Tshopo",villes:["Kisangani","Bafwasende","Banalia","Basoko","Isangi","Opala","Ubundu","Yahuma"]},{id:15,title:"Sankuru",villes:["Lusambo","Kole","Lodja","Lomela","Lubefu"]},{id:16,title:"Kasaï",villes:["Tshikapa","Luebo","Kamonia","Ilebo","Mweka","Dekese"]},{id:17,title:"Kasaï Oriental",villes:["Mbuji-Mayi","Kabeya-Kamwanga","Katanda","Lupatapata","Miabi","Tshilenge"]},{id:18,title:"Kasaï Central",villes:["Kananga","Dibaya","Luiza","Kazumba","Demba","Dimbelenge"]},{id:19,title:"Lomami",villes:["Kabinda","Mwene-Ditu","Ngandajika","Kamiji","Lubao","Luilu"]},{id:20,title:"Nord Kivu",villes:["Goma","Butembo","Beni","Lubero","Masisi","Rutshuru","Walikale","Nyiragongo"]},{id:21,title:"Sud Kivu",villes:["Bukavu","Uvira","Baraka","Fizi","Idjwi","Kabare","Kalehe","Mwenga","Shabunda","Walungu"]},{id:22,title:"Maniema",villes:["Kindu","Kabambare","Kailo","Kasongo","Kibombo","Lubutu","Pangi","Punia"]},{id:23,title:"Tanganyika",villes:["Kalemie","Kabalo","Kongolo","Manono","Moba","Nyunzu"]},{id:24,title:"Haut-Katanga",villes:["Lubumbashi","Likasi","Kipushi","Kambove","Kasenga","Kipushi","Mitwaba","Pweto","Sakania"]},{id:25,title:"Lualaba",villes:["Kolwezi","Dilolo","Kapanga","Mutshatsha","Sandoa","Lubudi"]},{id:26,title:"Haut-Lomami",villes:["Kamina","Bukama","Kabongo","Kamina","Kaniama","Malemba-Nkulu"]}]};var me=pe;const ve={getDiligence(t,e){for(var s={},a=0;a<t.diligences.length;a++)t.diligences[a].diligence_id===e&&(s=t.diligences[a],s.details=t.diligenceDetails);return s},getDiligenceActifs(t){return t.diligenceDetails.actifs},getClient(t){var e=t.client;return Object.keys(e).length<1&&(e=oe.get("client"),t.client=e),t.client},getDiligenceTypes(t){var e=t.diligenceTypes;return e.length<1&&(e=oe.get("diligence_types")),e},getActifs(t){let e=t.actifs;return e.length<1&&(e=oe.get("actifs")),e},getDiligences(t){var e=oe.get("diligences");return null===e&&void 0===e||(t.diligences=e),t.diligences},getQuestionnaire(t){var e=t.diligenceDetails.questionnaire.questions;try{var s=t.diligenceDetails.questionnaire.additionel;s.length>0&&(e=e.concat(s))}catch(a){}return e},getQuestionsAdditionnel(t){try{var e=t.diligenceDetails.questionnaire.additionnel}catch(s){return[]}return e},getQuestionsCompletion(t){return t.diligenceDetails.questionnaire.completion},getCredits(t){return t.diligenceDetails.credits}};var he=ve;const fe={setUser:function(t,e){sessionStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("user",JSON.stringify(e)),t.user=e},setConfigs:(t,e)=>t.configs=e,setDiligences(t,e){oe.save("diligences",e),t.diligences=e},setDiligenceDetails(t,e){t.diligenceDetails=e},setClient(t,e){oe.save("client",e),t.client=e},setDiligenceTypes(t,e){oe.save("diligence_types",e),t.diligenceTypes=e},setActifs(t,e){oe.save("actifs",e),t.actifs=e}};var ge=fe,be=s("bc3a"),_e=s.n(be);async function Ce(){return navigator.onLine}const ye={login({state:t},e){return new Promise((function(s,a){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void s(!1);_e.a.post(t.baseURL+"/utilisateurs/connexion/login",e).then((function(t){var e=t.data;s(e)}))}))},logUserIn({commit:t},e){t("setUser",e)},logUserOut(){localStorage.removeItem("user")},viewDiligences({state:t,commit:e},s){return new Promise((function(a){if(!Ce())return alert("Vous êtes actuellement hors ligne.!"),void a(!1);_e.a.post(t.baseURL+"/clients/dashboard",s).then((function(t){var s=t.data;a(s),e("setDiligences",s.data)}))}))},newDiligence({state:t,commit:e},s){return Ce()?new Promise((function(e){_e.a.post(t.baseURL+"/clients/diligences/postuler",s).then((function(t){console.clear(),e(t.data)}))})):(alert("Vous êtes actuellement hors ligne."),void resolve(!1))},viewDiligenceDetails({state:t,commit:e},s){return new Promise((function(a){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void a(!1);_e.a.post(t.baseURL+"/clients/diligences/view",s).then((function(i){var n=i.data;localStorage.removeItem("last-response"),a(n);for(var o=t.diligences,l=0;l<o;l++)o[l].diligence_id===s.diligence_id&&(o[l].details=n.details);localStorage.setItem("last-response",JSON.stringify(n.details.questionnaire)),e("setDiligenceDetails",n.details)}))}))},uploadDocument({state:t},e){return new Promise((function(s){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void s(!1);_e.a.post(t.baseURL+"/clients/diligences/uploader",e).then((function(t){var e=t.data;s(e)}))}))},async registerAccount({state:t,commit:e},s){return new Promise((function(a,i){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void a(!1);_e.a.post(t.baseURL+"/connexion/clients/registeraccount",s).then((function(s){var i=s.data;void 0!==i.error?_e.a.post(t.baseURL+"/connexion/clients/registeraccount",i).then(t=>{a(s.data),void 0!==t.data.reponse&&"success"===t.data.status&&e("setClient",t.data.reponse.data)}):(a(i),void 0!==i.reponse&&"success"===i.reponse.status&&e("setClient",i.reponse.data))})).then(t=>{i(t)})}))},resendOtp({commit:t,state:e},s){return new Promise((t,a)=>{if(!Ce())return alert("Vous êtes actuellement hors ligne."),void t(!1);_e.a.post(e.baseURL+"/connexion/clients/otp",s).then(e=>{t(e.data)}).catch(t=>a(t))})},deleteCredit({commit:t,state:e},s){return new Promise((t,a)=>{if(!Ce())return alert("Vous êtes actuellement hors ligne."),void t(!1);_e.a.post(e.baseURL+"/clients/diligences/credits/supprimer",{client_id:s.client_id,credit_id:s.credit_id}).then(e=>{t(e.data)}).catch(t=>a(t))})},loginAccount({state:t,commit:e},s){return new Promise((function(a,i){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void a(!1);_e.a.post(t.baseURL+"/connexion/clients/login",s).then((function(t){var s=t.data;a(s),void 0!==s.reponse&&"success"===s.reponse.status&&e("setClient",s.reponse.data)})).catch(t=>{i(t)})}))},logOut({commit:t}){t("setClient",{})},postulerDiligence({state:t},e){return Ce()?new Promise((function(s){_e.a.post(t.baseURL+"/clients/diligences/postuler",e).then((function(t){var e=t.data;s(e)}))})):(alert("Vous êtes actuellement hors ligne."),void resolve(!1))},getDiligenceTypes({state:t,commit:e}){return Ce()?new Promise((function(s){_e.a.get(t.baseURL+"/config/clients").then((function(t){var a=t.data;s(a),e("setDiligenceTypes",a.diligence_types)}))})):(alert("Vous êtes actuellement hors ligne."),void resolve(!1))},repondreQuestion({state:t},e){return new Promise((function(s,a){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void s(!1);_e.a.post(t.baseURL+"/clients/diligences/repondrequestion",e).then((function(t){var e=t.data;s(e)})).catch(t=>{a(t)})}))},payer({state:t},e){return new Promise((function(s){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void s(!1);_e.a.post(t.baseURL+"/clients/diligences/paiements/payer",e).then((function(t){var e=t.data;s(e)}))}))},viewActifs({state:t,commit:e}){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void resolve(!1);_e.a.get(t.baseURL+"/config/actifs").then(t=>{for(var s=t.data.actifs,a=0;a<s.length;a++)for(var i=s[a].details,n=0;n<i.length;n++)i[n].reponse_type.includes("multiple")&&(s[a].details[n].reponses=[{reponse:""}]);e("setActifs",s)})},enregistrerCredit({state:t},e){return new Promise((function(s){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void s(!1);_e.a.post(t.baseURL+"/clients/diligences/credits",e).then((function(t){var e=t.data;s(e)}))}))},activateAccount({state:t,commit:e},s){return new Promise((function(a){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void a(!1);_e.a.post(t.baseURL+"/clients/account",s).then((function(t){var s=t.data;"success"===s.reponse.status&&e("setClient",s.reponse.data),a(s)}))}))},supprimerReponse({state:t,getters:e},s){let a=e.getClient;return new Promise((function(e,i){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void e(!1);let n=new FormData;n.append("client_id",a.client_id),n.append("diligence_questionnaire_id",s),_e.a.post(t.baseURL+"/clients/diligences/supprimerreponse",n).then((function({data:t}){e(t)})).catch(t=>{i(!1)})}))},resetPassSendOtp({state:t},e){return new Promise((function(s,a){if(!navigator.onLine)return alert("Vous êtes actuellement hors ligne."),void s(!1);let i=new FormData;i.append("telephone",e),_e.a.post(t.baseURL+"/connexion/passwordreset",i).then((function({data:t}){s(t)})).catch(t=>{a(t)})}))},resetPassCheckOtp({state:t},e){return Ce()?new Promise((function(s,a){if(!Ce())return alert("Vous êtes actuellement hors ligne."),void s(!1);let i=new FormData;i.append("telephone",e.phone),i.append("otp",e.otp),_e.a.post(t.baseURL+"/connexion/checkotp",i).then((function({data:t}){s(t)})).catch(t=>{a(t)})})):(alert("Vous êtes actuellement hors ligne."),void resolve(!1))},resetPass({state:t},e){return Ce()?new Promise((function(s,a){if(!navigator.onLine)return alert("Vous êtes actuellement hors ligne."),void s(!1);let i=new FormData;i.append("client_id",e.client_id),i.append("pass",e.pass),_e.a.post(t.baseURL+"/clients/account/passwordreset",i).then((function({data:t}){s(t)})).catch(t=>{a(t)})})):(alert("Vous êtes actuellement hors ligne."),void resolve(!1))}};var xe=ye;const we={state:me,getters:he,mutations:ge,actions:xe};var ke=we,qe=s("7bec"),$e=s.n(qe),De=(s("4413"),s("2b88")),Te=s.n(De),Se=s("f9d5"),Le=s.n(Se),Ae=(s("44132"),s("b079")),Pe=s.n(Ae);s("4238");a["default"].config.productionTip=!1,a["default"].use(Te.a),a["default"].filter("sortlength",(function(t,e,s){var a=t.length>e?t.substring(0,e)+s:t;return a})),a["default"].filter("capitalize",(function(t){return t[0].toUpperCase()+t.slice(1)})),a["default"].use(i["a"]);var Me=_e.a.create({baseURL:me.baseURL,headers:{"Content-Type":"application/x-www-form-urlencoded"}});a["default"].prototype.$axios=Me;var Be=function(t){"show"===t&&x()(".trigger").click(),"hide"===t&&x()(".exit").click()};a["default"].prototype.$otpModal=Be,a["default"].component("XLoading",s("37e9").default),a["default"].component("privacyModal",s("68b6").default),a["default"].component("actifModal",s("5c7c").default),a["default"].component("detailModal",s("f574").default),a["default"].component("otpModal",s("2668").default),a["default"].component("otpInput",s("3076").default),a["default"].component("customDateInput",s("53de").default),a["default"].component("phoneInput",$e.a),a["default"].component("address-field",s("8f40").default),a["default"].use(Le.a),a["default"].use(Pe.a),a["default"].$toast.clear();const Ne=new i["a"].Store(ke);new a["default"]({router:de,store:Ne,render:t=>t(u)}).$mount("#app")},"5c7c":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",staticStyle:{"background-color":"rgba(0, 0, 0, 0.5)"},attrs:{id:"detailModal",tabindex:"-1",role:"dialog","data-bs-backdrop":"false","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg rounded-0",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h3",{staticClass:"modal-title"},[t._v("Actif "+t._s(t.data.titre))]),s("button",{staticClass:"btn-close text-white",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}}),s("button",{staticClass:"d-none",attrs:{id:"detailShowBtn","data-bs-target":"#detailModal","data-bs-toggle":"modal"}})]),s("div",{staticClass:"modal-body"},[t.data?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[s("div",{staticClass:"mb-8"},[s("ul",{staticClass:"list-group"},t._l(t.data.details,(function(e,a){return s("li",{key:a,staticClass:"list-group-item rounded-0 border-top-0"},[e.reponse_type.includes("file")?s("div",{staticClass:"d-md-flex mb-3"},[s("div",{staticClass:"w-50"},[s("span",{staticClass:"fw-semi-bold text-dark"},[t._v(t._s(e.actif_detail)+" :")])]),s("div",[s("span",[s("a",{attrs:{href:e.detail}},[s("span",[t._v(t._s(e.detail))]),s("br"),s("img",{staticClass:"img-fluid rounded h-40",attrs:{src:e.detail,alt:"file"}})])])])]):s("div",{staticClass:"d-md-flex"},[s("div",{staticClass:"w-50"},[s("span",{staticClass:"fw-semi-bold text-dark"},[t._v(t._s(e.actif_detail)+" :")])]),s("div",[s("span",[t._v(t._s(e.detail))])])])])})),0)])])]):t._e()]),t._m(0)])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"reset","data-bs-dismiss":"modal"}},[t._v(" Fermer ")])])}],n={name:"ActifModal",props:{data:{type:Object,default:()=>{}}}},o=n,l=s("2877"),r=Object(l["a"])(o,a,i,!1,null,null,null);e["default"]=r.exports},6:function(t,e){},6752:function(t,e,s){},"68b6":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade modal-fullscreen",attrs:{id:"privacyModal",tabindex:"-1",role:"dialog","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false"}},[s("div",{staticClass:"modal-dialog modal-lg modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("pdf",{staticStyle:{display:"none"},attrs:{src:t.pdfSrc},on:{"num-pages":function(e){t.pageCount=e}}}),s("div",{staticClass:"modal-body"},[t._l(t.pageCount,(function(e){return s("pdf",{key:e,attrs:{src:t.pdfSrc,page:e},on:{"page-loaded":function(e){t.currentPage=e}}})})),s("div",{staticClass:"container"},[s("p",{staticClass:"text-danger fs-8"},[t._v(" Est-ce que vous nous autoriser à vérifier vos informations avec d'autres institution? ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.crossCheck,expression:"crossCheck"}],staticClass:"form-check-input",attrs:{type:"radio",name:"crossCheck",value:"Oui"},domProps:{checked:t._q(t.crossCheck,"Oui")},on:{change:function(e){t.crossCheck="Oui"}}}),t._v(" Oui "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.crossCheck,expression:"crossCheck"}],staticClass:"form-check-input",attrs:{type:"radio",name:"crossCheck",value:"Non"},domProps:{checked:t._q(t.crossCheck,"Non")},on:{change:function(e){t.crossCheck="Non"}}}),t._v(" Non "),s("hr"),s("p",{staticClass:"text-danger fs-8"},[t._v(" Confirmez-vous la véracité de toutes vos informations ? ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.veracite,expression:"veracite"}],staticClass:"form-check-input",attrs:{type:"radio",name:"veracite",value:"Oui"},domProps:{checked:t._q(t.veracite,"Oui")},on:{change:function(e){t.veracite="Oui"}}}),t._v(" Oui "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.veracite,expression:"veracite"}],staticClass:"form-check-input",attrs:{type:"radio",name:"veracite",value:"Non"},domProps:{checked:t._q(t.veracite,"Non")},on:{change:function(e){t.veracite="Non"}}}),t._v(" Non ")])],2),s("div",{staticClass:"modal-footer"},["Oui"===t.crossCheck&&"Oui"===t.veracite?s("button",{staticClass:"btn btn-success me-2",attrs:{type:"button"},on:{click:t.onAccepted}},[t._v(" J'ai lu et j'accepte. ")]):t._e(),s("button",{staticClass:"btn btn-danger",on:{click:t.onRefused}},[t._v("Refuser")])])],1)])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h1",{staticClass:"modal-title fs-6 text-center text-danger"},[s("i",{staticClass:"fas fa-info"}),t._v(" Veuillez lire et accepter nos termes et conditions ci-bas ! ")]),s("button",{staticClass:"btn-close d-none",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],n=s("858e"),o=s("1157"),l=s.n(o),r={props:["pdfSrc","modalId"],components:{pdf:n["a"]},data(){return{crossCheck:"",veracite:"",pageCount:0,currentPage:0,numPages:[]}},mounted(){this.currentPage=0},methods:{onAccepted(){this.$emit("onAccepted",!0),l()(".btn-close").click()},onRefused(){this.$emit("onRefused",!1),this.crossCheck="",this.veracite="",l()(".btn-close").click()}}},c=r,d=s("2877"),u=Object(d["a"])(c,a,i,!1,null,null,null);e["default"]=u.exports},"69b3":function(t,e,s){},"6d9b":function(t,e,s){"use strict";s("37d4")},"6dea":function(t,e,s){"use strict";s("b870")},"6f65":function(t,e,s){"use strict";s("6752")},"8f40":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(0),s("select",{directives:[{name:"model",rawName:"v-model",value:t.model.split.province,expression:"model.split.province"}],staticClass:"form-select",class:t.border,attrs:{name:"address_province",id:"address_province",required:t.required},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model.split,"province",e.target.multiple?s:s[0])},t.handleSplit]}},[s("option",{attrs:{value:"",selected:""}},[t._v("Sélectionner province...")]),t._l(t.provinces,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e.title))])}))],2)])]),s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(1),s("select",{directives:[{name:"model",rawName:"v-model",value:t.model.split.ville,expression:"model.split.ville"}],staticClass:"form-select",class:t.border,attrs:{name:"address_city",id:"address_city",required:t.required},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model.split,"ville",e.target.multiple?s:s[0])},t.handleSplit]}},[s("option",{attrs:{selected:"",value:""}},[t._v("Sélectionner ville...")]),t._l(t.model.split.province.villes,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)])]),s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.split.commune,expression:"model.split.commune"}],staticClass:"form-control ",class:t.border,attrs:{id:"address_c",name:"address_c",type:"text",placeholder:"Commune...",required:t.required},domProps:{value:t.model.split.commune},on:{change:t.handleSplit,input:function(e){e.target.composing||t.$set(t.model.split,"commune",e.target.value)}}})])]),s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.split.quartier,expression:"model.split.quartier"}],staticClass:"form-control ",class:t.border,attrs:{id:"address_q",name:"address_q",type:"text",placeholder:"Quartier...",required:t.required},domProps:{value:t.model.split.quartier},on:{change:t.handleSplit,input:function(e){e.target.composing||t.$set(t.model.split,"quartier",e.target.value)}}})])]),s("div",{staticClass:"col-xl-2 col-lg-2 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.split.avenue,expression:"model.split.avenue"}],staticClass:"form-control ",class:t.border,attrs:{id:"address_street",name:"address_street",type:"text",placeholder:"Avenue...",required:t.required},domProps:{value:t.model.split.avenue},on:{change:t.handleSplit,input:function(e){e.target.composing||t.$set(t.model.split,"avenue",e.target.value)}}})])]),s("div",{staticClass:"col-xl-2 col-lg-2 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(5),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.split.numero,expression:"model.split.numero"}],staticClass:"form-control ",class:t.border,attrs:{id:"address_num",name:"address_num",type:"text",placeholder:"N°...",required:t.required},domProps:{value:t.model.split.numero},on:{change:t.handleSplit,input:function(e){e.target.composing||t.$set(t.model.split,"numero",e.target.value)}}})])]),s("div",{staticClass:"col-xl-8 col-lg-8 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(6),s("input",{directives:[{name:"model",rawName:"v-model",value:t.model.split.reference,expression:"model.split.reference"}],staticClass:"form-control ",class:t.border,attrs:{id:"address_ref",name:"address_ref",type:"text",placeholder:"Réference...",required:t.required},domProps:{value:t.model.split.reference},on:{change:t.handleSplit,input:function(e){e.target.composing||t.$set(t.model.split,"reference",e.target.value)}}})])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_province"}},[t._v("Province "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_city"}},[t._v("Ville "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_street"}},[t._v("Commune "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_street"}},[t._v("Quartier "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_street"}},[t._v("Avenue "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_num"}},[t._v("Numéro "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_ref"}},[t._v("Réference "),s("sup",{staticClass:"text-danger"},[t._v("*")])])}],n={name:"Address-field",data(){return{}},props:{model:{type:Object,default:()=>{}},border:{type:String,default:""},required:{type:Boolean,default:!0}},computed:{provinces(){return this.$store.state.provinces}},methods:{handleSplit(t){let e=this.model,s=`PROVINCE :  ${e.split.province.title} | VILLE :  ${e.split.ville} |  COMMUNE :  ${e.split.commune} | QUARTIER :  ${e.split.quartier} | AVENUE :  ${e.split.avenue} | NUMERO :  ${e.split.numero} | REFERENCE :  ${e.split.reference}`;void 0!==e.reponse&&""!==e.split.province.title&&""!==e.split.ville&&""!==e.split.commune&&e.split.quartier&&""!==e.split.quartier&&""!==e.split.avenue&&""!==e.split.numero&&""!==e.split.reference&&(e.reponse=s.toString())}}},o=n,l=s("2877"),r=Object(l["a"])(o,a,i,!1,null,null,null);e["default"]=r.exports},"992c":function(t,e,s){},a6b7:function(t,e,s){"use strict";s("ada7")},ada7:function(t,e,s){},b870:function(t,e,s){},d518:function(t,e,s){},e525:function(t,e,s){"use strict";s("d518")},f574:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",staticStyle:{"background-color":"rgba(0, 0, 0, 0.5)"},attrs:{id:"actifDetails",tabindex:"-1",role:"dialog","data-bs-backdrop":"false","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h3",{staticClass:"modal-title"},[t._v(" Actif : "+t._s(t.data.titre)+" ")]),s("button",{staticClass:"btn-close text-white",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close",id:"btnExitModal"},on:{click:t.clearFields}}),s("button",{staticClass:"d-none",attrs:{id:"inputsShowBtn","data-bs-target":"#actifDetails","data-bs-toggle":"modal"}})]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[t._m(0),s("form",{ref:"form",staticClass:"form-horizontal loan-eligibility-form",attrs:{name:"formval2"},on:{submit:function(e){return e.preventDefault(),t.submitData.apply(null,arguments)}}},[t._l(t.data.details,(function(e,a){return s("div",{key:a,staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[e.reponse_type.includes("file")?s("div",{staticClass:"mb-2"},[s("label",{staticClass:"form-label text-dark fw-bold",attrs:{for:"field"+a}},[t._v(t._s(t._f("capitalize")(e.detail))+" "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),s("div",{staticClass:"input-group"},["checkbox"===e.reponse_type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"field.data"}],staticClass:"form-control border-light",attrs:{id:"field"+a,required:"","aria-required":"veuillez renseigner ce champs !",type:"checkbox"},domProps:{checked:Array.isArray(e.data)?t._i(e.data,null)>-1:e.data},on:{change:function(s){var a=e.data,i=s.target,n=!!i.checked;if(Array.isArray(a)){var o=null,l=t._i(a,o);i.checked?l<0&&t.$set(e,"data",a.concat([o])):l>-1&&t.$set(e,"data",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(e,"data",n)}}}):"radio"===e.reponse_type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"field.data"}],staticClass:"form-control border-light",attrs:{id:"field"+a,required:"","aria-required":"veuillez renseigner ce champs !",type:"radio"},domProps:{checked:t._q(e.data,null)},on:{change:function(s){return t.$set(e,"data",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"field.data"}],staticClass:"form-control border-light",attrs:{id:"field"+a,required:"","aria-required":"veuillez renseigner ce champs !",type:e.reponse_type},domProps:{value:e.data},on:{input:function(s){s.target.composing||t.$set(e,"data",s.target.value)}}})])]):void 0!==e.adresse_split?s("div",{staticClass:"mb-2"},[s("label",{staticClass:"form-label text-dark fw-bold",attrs:{for:"field"+a}},[t._v(t._s(t._f("capitalize")(e.detail))+" "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(1,!0),s("select",{directives:[{name:"model",rawName:"v-model",value:e.adresse_split.province,expression:"field.adresse_split.province"}],staticClass:"form-select border-light",attrs:{name:"address_province",id:"address_province",required:""},on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e.adresse_split,"province",s.target.multiple?a:a[0])},function(s){return t.handleSplit(e)}]}},[s("option",{attrs:{value:"",selected:""}},[t._v("Sélectionner province...")]),t._l(t.provinces,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e.title))])}))],2)])]),s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(2,!0),s("select",{directives:[{name:"model",rawName:"v-model",value:e.adresse_split.ville,expression:"field.adresse_split.ville"}],staticClass:"form-select border-light",attrs:{name:"address_city",id:"address_city",required:""},on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e.adresse_split,"ville",s.target.multiple?a:a[0])},function(s){return t.handleSplit(e)}]}},[s("option",{attrs:{selected:"",value:""}},[t._v("Sélectionner ville...")]),t._l(e.adresse_split.province.villes,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)])]),s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(3,!0),s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse_split.commune,expression:"field.adresse_split.commune"}],staticClass:"form-control border-light",attrs:{id:"address_c",name:"address_c",type:"text",placeholder:"Commune...",required:""},domProps:{value:e.adresse_split.commune},on:{change:function(s){return t.handleSplit(e)},input:function(s){s.target.composing||t.$set(e.adresse_split,"commune",s.target.value)}}})])]),s("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(4,!0),s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse_split.quartier,expression:"field.adresse_split.quartier"}],staticClass:"form-control border-light",attrs:{id:"address_q",name:"address_q",type:"text",placeholder:"Quartier...",required:""},domProps:{value:e.adresse_split.quartier},on:{change:function(s){return t.handleSplit(e)},input:function(s){s.target.composing||t.$set(e.adresse_split,"quartier",s.target.value)}}})])]),s("div",{staticClass:"col-xl-2 col-lg-2 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(5,!0),s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse_split.avenue,expression:"field.adresse_split.avenue"}],staticClass:"form-control border-light",attrs:{id:"address_street",name:"address_street",type:"text",placeholder:"Avenue...",required:""},domProps:{value:e.adresse_split.avenue},on:{change:function(s){return t.handleSplit(e)},input:function(s){s.target.composing||t.$set(e.adresse_split,"avenue",s.target.value)}}})])]),s("div",{staticClass:"col-xl-2 col-lg-2 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(6,!0),s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse_split.numero,expression:"field.adresse_split.numero"}],staticClass:"form-control border-light",attrs:{id:"address_num",name:"address_num",type:"text",placeholder:"N°...",required:""},domProps:{value:e.adresse_split.numero},on:{change:function(s){return t.handleSplit(e)},input:function(s){s.target.composing||t.$set(e.adresse_split,"numero",s.target.value)}}})])]),s("div",{staticClass:"col-xl-8 col-lg-8 col-md-6 col-sm-6 col-6"},[s("div",{staticClass:"form-group mb-2"},[t._m(7,!0),s("input",{directives:[{name:"model",rawName:"v-model",value:e.adresse_split.reference,expression:"field.adresse_split.reference"}],staticClass:"form-control border-light",attrs:{id:"address_ref",name:"address_ref",type:"text",placeholder:"Réference...",required:""},domProps:{value:e.adresse_split.reference},on:{change:function(s){return t.handleSplit(e)},input:function(s){s.target.composing||t.$set(e.adresse_split,"reference",s.target.value)}}})])])])]):e.reponse_type.includes("select")?s("div",{staticClass:"mb-2"},[s("label",{staticClass:"form-label text-dark fw-bold",attrs:{for:"field"+a}},[t._v(t._s(t._f("capitalize")(e.detail))+" "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),e.autre_data.includes("autre")?s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"field.data"}],staticClass:"form-control mt-2 border-light",attrs:{id:"field"+a,type:"text",placeholder:"Veuillez saisir autre choix...",required:"","aria-required":"veuillez renseigner ce champs !"},domProps:{value:e.data},on:{input:function(s){s.target.composing||t.$set(e,"data",s.target.value)}}}),s("button",{staticClass:"btn btn-light-danger btn-sm mt-2",attrs:{type:"button"},on:{click:function(t){e.autre_data=""}}},[s("i",{staticClass:"bi-arrows-collapse"})])]):s("select",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"field.data"}],staticClass:"form-select border-light",attrs:{id:"field"+a,"aria-label":"Select value",required:"","aria-required":"veuillez renseigner ce champs !"},on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"data",s.target.multiple?a:a[0])},function(s){return t.onselectionchange(e)}]}},[s("option",{attrs:{value:"",selected:""}},[t._v("-------------")]),t._l(e.options,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),s("option",{staticClass:"text-primary",attrs:{value:"autre"}},[t._v("Autre...")])],2)]):s("div",{staticClass:"mb-2"},[s("label",{staticClass:"form-label text-dark fw-bold",attrs:{for:"field"+a}},[t._v(t._s(t._f("capitalize")(e.detail))+" "),s("sup",{staticClass:"text-danger"},[t._v("*")])]),e.reponse_type.includes("multiple")?s("div",t._l(e.reponses,(function(i,n){return s("div",{key:i,staticClass:"input-group mt-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.reponse,expression:"reponse.reponse"}],staticClass:"form-control border-light",attrs:{id:"field"+a,type:"text",placeholder:"Veuillez saisir..",required:"","aria-required":"veuillez renseigner ce champs !"},domProps:{value:i.reponse},on:{input:function(e){e.target.composing||t.$set(i,"reponse",e.target.value)}}}),n===e.reponses.length-1?s("button",{staticClass:"btn btn-light-primary",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.addAnswer(e)}}},[s("i",{staticClass:"fa fa-plus fs-7"})]):s("button",{staticClass:"btn btn-light-danger",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.reponses.splice(n,1)}}},[s("i",{staticClass:"fa fa-times fs-7"})])])})),0):e.reponse_type.includes("multiple")?t._e():s("div",{staticClass:"input-group",staticStyle:{"margin-bottom":"5px","padding-bottom":"5px"}},["checkbox"===e.reponse_type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"field.data"}],staticClass:"form-control border-light input-sm",staticStyle:{"margin-bottom":"5px"},attrs:{id:"field"+a,placeholder:"Veuillez saisir..",required:"","aria-required":"veuillez renseigner ce champs !",type:"checkbox"},domProps:{checked:Array.isArray(e.data)?t._i(e.data,null)>-1:e.data},on:{change:function(s){var a=e.data,i=s.target,n=!!i.checked;if(Array.isArray(a)){var o=null,l=t._i(a,o);i.checked?l<0&&t.$set(e,"data",a.concat([o])):l>-1&&t.$set(e,"data",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(e,"data",n)}}}):"radio"===e.reponse_type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"field.data"}],staticClass:"form-control border-light input-sm",staticStyle:{"margin-bottom":"5px"},attrs:{id:"field"+a,placeholder:"Veuillez saisir..",required:"","aria-required":"veuillez renseigner ce champs !",type:"radio"},domProps:{checked:t._q(e.data,null)},on:{change:function(s){return t.$set(e,"data",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"field.data"}],staticClass:"form-control border-light input-sm",staticStyle:{"margin-bottom":"5px"},attrs:{id:"field"+a,placeholder:"Veuillez saisir..",required:"","aria-required":"veuillez renseigner ce champs !",type:e.reponse_type},domProps:{value:e.data},on:{input:function(s){s.target.composing||t.$set(e,"data",s.target.value)}}})])])])})),s("div",{staticClass:"mt-4"},[s("button",{staticClass:"btn btn-success me-2",class:t.isLoading?"disabled":"",attrs:{type:"submit"}},[t.isLoading?s("span",{staticClass:"spinner-border spinner-border-sm"}):t._e(),t._v(" Sauvegarder ")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"reset","data-bs-dismiss":"modal"},on:{click:t.clearFields}},[t._v(" Fermer ")])])],2)])])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("p",{staticClass:"text-danger fs-5"},[t._v("Veuillez renseigner tous ces champs ci-bas !")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_province"}},[t._v("Province "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_city"}},[t._v("Ville "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_street"}},[t._v("Commune "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_street"}},[t._v("Quartier "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_street"}},[t._v("Avenue "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_num"}},[t._v("Numéro "),s("sup",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"form-label mb-1",attrs:{for:"address_ref"}},[t._v("Réference "),s("sup",{staticClass:"text-danger"},[t._v("*")])])}],n=s("2f62"),o=s("1157"),l=s.n(o),r={name:"DetailModal",props:{data:{type:Object,default:()=>{}},diligence:{type:Object,default:()=>{}},diligenceId:{type:String,default:""}},data(){return{isLoading:!1,other:{index:"",data:"",selected:!1}}},computed:{...Object(n["b"])({client:"getClient"}),...Object(n["c"])({provinces:"provinces"})},mounted(){this.clearFields()},methods:{onselectionchange(t){t.data.includes("autre")&&(t.autre_data=t.data,t.data="")},addAnswer(t){var e={reponse:""};t.reponses.push(e)},handleSplit(t){let e=`PROVINCE :  ${t.adresse_split.province.title} | VILLE :  ${t.adresse_split.ville} |  COMMUNE :  ${t.adresse_split.commune} | QUARTIER :  ${t.adresse_split.quartier} | AVENUE :  ${t.adresse_split.avenue} | NUMERO :  ${t.adresse_split.numero} | REFERENCE :  ${t.adresse_split.reference}`;t.data=e.toString()},changeFile(t){t.target.files[0]},toggleInputOther(t){t.select?t.select="non":t.select="oui"},clearFields(){this.$refs.form.reset();for(let t=0;t<this.data.details.length;t++){let e=this.data.details[t];""!==e.data&&(e.data=""),void 0!==e.adresse_split&&(e.adresse_split.province="",e.adresse_split.avenue="",e.adresse_split.numero="",e.adresse_split.quartier="",e.adresse_split.reference="",e.adresse_split.commune="")}},submitData(t){for(let s=0;s<this.data.details.length;s++){let t=this.data.details[s];if(""===t.data&&"oui"===t.obligatoire)return void this.$swal.fire({text:"Vous devez renseigner tous les champs obligatoires!",icon:"warning"});if(t.reponse_type.includes("date")){const e=new Date(t.data).getTime(),s=new Date(Date.now()).getTime();if(e>=s)return void this.$swal.fire({text:"Les dates entrées sont invalides !",icon:"warning",toast:!0,timer:3e3,showConfirmButton:!1})}}let e=new FormData;e.append("client_id",this.client.client_id),e.append("actif_id",this.data.actif_id),e.append("diligence_id",this.diligenceId),this.isLoading=!0,this.$axios.post("/clients/diligences/actifs/add",e).then(async t=>{var e=t.data;if(void 0!==e.reponse&&"success"===e.reponse.status){for(let s=0;s<this.data.details.length;s++){let t=this.data.details[s],a=e.reponse.diligence_actif_id;this.saveDetail(t,a)}this.$swal.fire({icon:"success",text:"Effectué avec succès !",showConfirmButton:!1,timer:1500});let t={client_id:this.client.client_id,diligence_id:this.diligence.diligence_id};this.isLoading=!1,this.clearFields(),await this.$store.dispatch("viewDiligenceDetails",t),l()("#btnExitModal").click(),this.$emit("allowNext")}else void 0!==e.error&&this.$swal.fire({text:"Un problème est survenu lors de l'envoie de données\nVeuillez réessayer ultérieurement !",icon:"error"})}).catch(t=>{this.isLoading=!1})},saveDetail(t,e){let s=new FormData;if(s.append("client_id",this.client.client_id),s.append("diligence_actif_id",e),s.append("actif_detail_id",t.actif_detail_id),t.reponse_type.includes("multiple")){for(var a="",i=0;i<t.reponses.length;i++)a+=t.reponses[i].reponse,i<t.reponses.length-1&&(a+=" , ");s.append("detail",a)}else s.append("detail",t.data);this.$axios.post("/clients/diligences/actifs/savedetail",s).then(t=>{JSON.stringify(t.data)}).catch(t=>{this.isLoading=!1})}}},c=r,d=s("2877"),u=Object(d["a"])(c,a,i,!1,null,null,null);e["default"]=u.exports}});
//# sourceMappingURL=app.ea08c792.js.map